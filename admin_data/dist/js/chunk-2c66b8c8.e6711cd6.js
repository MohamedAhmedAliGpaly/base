(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c66b8c8"],{"4def":function(t,o,a){"use strict";var e=a("dca2"),r=a.n(e);r.a},"5f2a":function(t,o,a){"use strict";a.r(o);var e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("el-row",{staticClass:"body mTop10"},[a("el-form",{attrs:{model:t.form,"label-width":t.LabelWidth}},[a("el-form-item",{attrs:{label:"LOGO"}},[t.form.logo?a("div",{staticClass:"upload bgImg bgTu",style:{backgroundImage:"url("+t.form.logo+")"},attrs:{for:"logo"},on:{click:function(o){return t.upImage("logo")}}}):a("div",{staticClass:"upload bgImg bgTu",attrs:{for:"logo"},on:{click:function(o){return t.upImage("logo")}}})]),a("el-form-item",{attrs:{label:"系统名称"}},[a("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入系统名称、公司名称等"},model:{value:t.form.title,callback:function(o){t.$set(t.form,"title",o)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"网站域名"}},[a("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入网站域名"},model:{value:t.form.http,callback:function(o){t.$set(t.form,"http",o)},expression:"form.http"}})],1),a("el-form-item",{attrs:{label:"版权信息"}},[a("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入版权信息"},model:{value:t.form.copy,callback:function(o){t.$set(t.form,"copy",o)},expression:"form.copy"}})],1),a("el-form-item",{attrs:{label:"登录背景"}},[t.form.login_bg?a("div",{staticClass:"upload bgImg",style:{backgroundImage:"url("+t.form.login_bg+")"},attrs:{for:"login_bg"},on:{click:function(o){return t.upImage("bg")}}}):a("div",{staticClass:"upload bgImg",attrs:{for:"login_bg"},on:{click:function(o){return t.upImage("bg")}}})]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(o){return t.onSubmit()}}},[t._v("保存设置")])],1)],1)],1)],1)},r=[],l=a("7c2f"),s=a("9060"),i={data:function(){return{LabelWidth:"100px",form:{logo:"",title:"",http:"",copy:"",login_bg:""}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,o=l["a"].loading();l["a"].post("Sysconfig/list",{token:l["a"].storage.getItem("token")},(function(a){o.clear();var e=a.data;0!=e.code?l["a"].toast(e.msg,"error"):t.form=e.list}))},onSubmit:function(){var t=this,o=JSON.stringify(this.form),a=l["a"].loading();l["a"].post("Sysconfig/edit",{token:l["a"].storage.getItem("token"),data:o},(function(e){a.clear();var r=e.data;if(0==r.code){var s=JSON.parse(o);return t.$store.state.system.title=s.title,t.$store.state.system.copy=s.copy,l["a"].toast(r.msg,"success")}return l["a"].toast(r.msg,"error")}))},upImage:function(t){var o=this,a={};"logo"==t?(a.width=100,a.height=100):"bg"==t&&(a.width=1366),s["a"].camera((function(e){s["a"].readerCompress(e,a,(function(a){var e=l["a"].loading();l["a"].post("Sysconfig/upImage",{token:l["a"].storage.getItem("token"),type:t,base64:a},(function(a){e.clear();var r=a.data;0==r.code?(l["a"].toast(r.msg,"success"),"logo"==t?(o.form.logo=r.img,o.$store.state.system.logo=r.img):"bg"==t&&(o.form.login_bg=r.img,o.$store.state.system.login_bg=r.img)):l["a"].toast(r.msg,"error")}))}))}))}}},n=i,c=(a("4def"),a("2877")),m=Object(c["a"])(n,e,r,!1,null,"7a95a5b9",null);o["default"]=m.exports},dca2:function(t,o,a){}}]);