(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,o=1;o<s.length;o++){var r=s[o];0!==n[r]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},o={app:0},n={app:0},a=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-02a97614":"8df28828","chunk-09499afc":"acaf6f73","chunk-1ae7b1ba":"e037f235","chunk-2a2c4d09":"31d6b2b7","chunk-2d0aa7c1":"61e50407","chunk-2d0abc0c":"6c44b1af","chunk-2d0c8672":"800a1126","chunk-2d0d9fbf":"b86f7ed3","chunk-2d217aca":"96733b3f","chunk-2d229a03":"674a5c6e","chunk-2d22fdb0":"5c3539db","chunk-4117cf19":"3be06911"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-02a97614":1,"chunk-09499afc":1,"chunk-1ae7b1ba":1,"chunk-2a2c4d09":1,"chunk-4117cf19":1};o[t]?e.push(o[t]):0!==o[t]&&s[t]&&e.push(o[t]=new Promise((function(e,s){for(var i="css/"+({}[t]||t)+"."+{"chunk-02a97614":"97e19aed","chunk-09499afc":"386e0763","chunk-1ae7b1ba":"08d201e6","chunk-2a2c4d09":"56f3e7b5","chunk-2d0aa7c1":"31d6cfe0","chunk-2d0abc0c":"31d6cfe0","chunk-2d0c8672":"31d6cfe0","chunk-2d0d9fbf":"31d6cfe0","chunk-2d217aca":"31d6cfe0","chunk-2d229a03":"31d6cfe0","chunk-2d22fdb0":"31d6cfe0","chunk-4117cf19":"114fb31f"}[t]+".css",n=l.p+i,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var c=a[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===n))return e()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){c=p[r],u=c.getAttribute("data-href");if(u===i||u===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||n,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete o[t],h.parentNode.removeChild(h),s(a)},h.href=n;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){o[t]=0})));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,s){i=n[t]=[e,s]}));e.push(i[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var p=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(h);var s=n[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",p.name="ChunkLoadError",p.type=i,p.request=o,s[1](p)}n[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var h=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0169":function(t,e,s){"use strict";s.d(e,"a",(function(){return r["a"]})),s.d(e,"b",(function(){return l["a"]}));var i=s("8c89"),o=s("bc3a"),n=s.n(o),a=function(t,e,s,o,a){var r=t.substr(0,4);t="http"==r?t:i["a"].apiUrl+t;var l=i["a"].request;for(var c in a=a||{},l)a[c]=l[c];n.a.get(t,{params:e},a).then(s).catch(o)},r=s("8a2a"),l=s("775b"),c=function(){return{language:"zh_CN",language_url:"/tinymce/zh_CN.js",skin_url:"/tinymce/skins/ui/oxide",height:550,menubar:!0,branding:!1,toolbar:"undo redo | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | table image media preview | removeformat | help",toolbar_items_size:"small",plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]}},u=s("fbd7"),p=s("919a"),h=s("e563");r["a"],l["a"],u["a"],p["a"],h["a"]},"034f":function(t,e,s){"use strict";var i=s("64a9"),o=s.n(i);o.a},"4dc7":function(t,e,s){"use strict";e["a"]=function(t){document.addEventListener("plusready",t,!1)}},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),o=s("8c4f");i["default"].use(o["a"]);var n=[{path:"/",name:"index",component:function(){return s.e("chunk-4117cf19").then(s.bind(null,"d504"))}},{path:"/refresh",name:"Refresh",component:function(t){return s.e("chunk-2d22fdb0").then(function(){var e=[s("ea97")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/UserInfo",name:"UserInfo",component:function(t){return s.e("chunk-1ae7b1ba").then(function(){var e=[s("8f77")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/UserPasswd",name:"UserPasswd",component:function(t){return s.e("chunk-2d0c8672").then(function(){var e=[s("5573")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysUser",name:"SysUser",component:function(t){return s.e("chunk-2d0d9fbf").then(function(){var e=[s("6a53")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysPerm",name:"SysPerm",component:function(t){return s.e("chunk-2d0abc0c").then(function(){var e=[s("172b")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysRole",name:"SysRole",component:function(t){return s.e("chunk-2d0aa7c1").then(function(){var e=[s("10e1")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysConfig",name:"SysConfig",component:function(t){return s.e("chunk-09499afc").then(function(){var e=[s("5f2a")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysMenus",name:"SysMenus",component:function(t){return s.e("chunk-2a2c4d09").then(function(){var e=[s("a6e8")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysMenusAction",name:"SysMenusAction",component:function(t){return s.e("chunk-2d229a03").then(function(){var e=[s("ddf3")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/SysFileManage",name:"SysFileManage",component:function(t){return s.e("chunk-02a97614").then(function(){var e=[s("52e8")];t.apply(null,e)}.bind(this)).catch(s.oe)}},{path:"/Demo",name:"Demo",component:function(t){return s.e("chunk-2d217aca").then(function(){var e=[s("c876")];t.apply(null,e)}.bind(this)).catch(s.oe)}}],a=o["a"].prototype.push;o["a"].prototype.push=function(t){return a.call(this,t).catch((function(t){return t}))};var r=new o["a"]({mode:"history",base:"",routes:n}),l=r,c=s("2f62");i["default"].use(c["a"]);var u=new c["a"].Store({state:{mode:"light",statusBarHeight:0,isLogin:"",uInfo:{},system:{},menus:[],defaultMenu:"3",collapseMenu:!1,action:{url:"",type:"",width:"",menus:""},socket:null,uMsg:{scroll:null,group:[],num:""},uNotify:{},scan:null}}),p=s("5c96"),h=s.n(p),d=(s("8aa1"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t.update.show?i("div",{staticClass:"update_body",style:{backgroundColor:t.upDateColor.bg}},[i("div",{staticClass:"update_ct verticalCenter"},[i("div",{staticClass:"logo",style:{backgroundColor:t.upDateColor.logoBg}},[i("div")]),i("div",{staticClass:"loading",style:{backgroundImage:"linear-gradient(to right, "+t.upDateColor.loading+", "+t.upDateColor.loading+" "+t.update.loading+", "+t.upDateColor.loaded+" "+t.update.loading+", "+t.upDateColor.loaded+" 100%)"}}),i("div",{staticClass:"load_msg",style:{color:t.upDateColor.msgColor},domProps:{innerHTML:t._s(t.update.msg)}},[t._v("正在加载应用")]),i("div",{staticClass:"load_button"},[t.update.down?i("button",{staticClass:"Button",style:{color:t.upDateColor.butColor,backgroundColor:t.upDateColor.butBg},on:{click:function(e){return t.updateDown()}}},[t._v(t._s(t.upDateColor.butText))]):t._e()])]),i("div",{staticClass:"update_logo",style:{color:t.upDateColor.copy}},[i("h1",[t._v(t._s(t.$config.title))]),i("h2",[t._v(t._s(t.$config.copy))])])]):t._e(),i("el-container",{directives:[{name:"show",rawName:"v-show",value:!1===t.$store.state.isLogin,expression:"$store.state.isLogin===false"}],staticClass:"login_body bgImg bgcover",style:{backgroundImage:"url("+(t.$store.state.system.login_bg?t.$store.state.system.login_bg:s("86d5"))+")"}},[i("div",{staticClass:"login_ct verticalCenter"},[i("div",{staticClass:"logo flex_center"},[i("div",{staticClass:"bgImg bgTu",style:{backgroundImage:"url("+(t.$store.state.system.logo?t.$store.state.system.logo:s("9b19"))+")"}}),i("h1",{staticClass:"nowrap"},[t._v(t._s(t.$store.state.system.title))])]),i("h2",[t._v("会员登录")]),i("div",{staticClass:"item"},[i("el-input",{attrs:{maxlength:"32",placeholder:"用户名/手机/邮箱"},model:{value:t.login.uname,callback:function(e){t.$set(t.login,"uname",e)},expression:"login.uname"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"icons icon_user"})])],2)],1),i("div",{staticClass:"item"},[i("el-input",{attrs:{type:"password",maxlength:"16",placeholder:"请输入密码"},model:{value:t.login.passwd,callback:function(e){t.$set(t.login,"passwd",e)},expression:"login.passwd"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"icons icon_passwd"})])],2)],1),i("div",{staticClass:"item"},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:t.login.dis},on:{click:function(e){return t.loginSub()}}},[t._v(t._s(t.login.subText))])],1),i("div",{staticClass:"copy nowrap"},[t._v("© "+t._s(t.$store.state.system.copy)+" license  版本："+t._s(t.$config.version))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.$store.state.isLogin,expression:"$store.state.isLogin===true"}],staticClass:"app_body"},[i("scroll-view",{staticClass:"app_menus",style:{width:t.$store.state.collapseMenu?"64px":"200px",paddingTop:t.$store.state.statusBarHeight},attrs:{upperLoad:!1,lowerLoad:!1}},[i("div",{staticClass:"app_img"},[t.$store.state.uInfo.img?i("div",{staticClass:"bgImg",style:{backgroundImage:"url("+t.$store.state.uInfo.img+")"},on:{click:function(e){return t.hideMenus()}}}):i("div",{staticClass:"bgImg tu",on:{click:function(e){return t.hideMenus()}}}),i("div",{staticClass:"info nowrap"},[t._v(t._s(t.$store.state.uInfo.nickname||"昵称")+"("+t._s(t.$store.state.uInfo.name||"姓名")+")")])]),i("el-menu",{attrs:{"default-active":t.$store.state.defaultMenu,collapse:t.$store.state.collapseMenu,"unique-opened":""}},t._l(t.$store.state.menus,(function(e,s){return i("el-submenu",{key:s,attrs:{index:""+e.id}},[i("template",{slot:"title"},[i("i",{staticClass:"icons",class:e.ico}),i("span",[t._v(t._s(e.title))])]),t._l(e.menus,(function(e,s){return i("div",{key:s},[0==e.menus.length?i("el-menu-item",{attrs:{index:""+e.id},on:{click:function(s){return t.openUrl(e.ico,e.url,""+e.id,e.title)}}},[t._v(t._s(e.title))]):i("el-submenu",{attrs:{index:""+e.id}},[i("template",{slot:"title"},[i("span",[t._v(t._s(e.title))])]),t._l(e.menus,(function(e,s){return i("el-menu-item",{key:s,attrs:{index:""+e.id},on:{click:function(s){return t.openUrl(e.ico,e.url,""+e.id,e.title)}}},[t._v(t._s(e.title))])}))],2)],1)}))],2)})),1),i("div",{staticClass:"app_user nowrap"},[i("span",{staticClass:"config",on:{click:function(e){return t.openConfig()}}},[t._v("设置")]),t._v("\n          |  \n        "),i("span",{staticClass:"logout",on:{click:function(e){return t.logout()}}},[t._v("退出")])])],1),i("div",{staticClass:"app_ct",style:{width:"calc(100% - "+(t.$store.state.collapseMenu?"64px":"201px")+")",paddingTop:t.$store.state.statusBarHeight}},[i("div",{staticClass:"app_top"},[i("scroll-view",{staticClass:"app_top_menus",attrs:{upperLoad:!1,lowerLoad:!1,"scroll-x":!0}},[i("div",{staticClass:"app_action",style:{minWidth:t.$store.state.action.width}},[t.$store.state.action.url?i("Action",{attrs:{url:t.$store.state.action.url,menus:t.$store.state.action.menus}}):i("div",{staticClass:"name"},[t._v(t._s(t.storage.getItem("MenuName")||t.$store.state.system.title)+" "),i("i",{staticClass:"el-icon-arrow-right"})])],1)])],1),i("div",{staticClass:"app_main"},[i("router-view"),i("div",{staticClass:"app_copy"},[t._v("所属："+t._s(t.$store.state.system.title)+"  © "+t._s(t.$store.state.system.copy)+"  版本："+t._s(t.$config.version))])],1)])],1),i("el-dialog",{attrs:{title:t.config.title,visible:t.config.show,center:"",width:"360px"},on:{"update:visible":function(e){return t.$set(t.config,"show",e)}}},[i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"消息朗读"}},[i("el-switch",{on:{change:function(e){return t.subConfig("is_msg_audio")}},model:{value:t.config.is_msg_audio,callback:function(e){t.$set(t.config,"is_msg_audio",e)},expression:"config.is_msg_audio"}})],1)],1)],1),!0===t.$store.state.isLogin?i("ul",{staticClass:"right_menu"},[i("li",{on:{click:function(e){return t.openMsg()}}},[i("i",{staticClass:"ui ui_msg"}),i("span",{staticClass:"redNum"},[t._v("0")])])]):t._e(),i("popup",{model:{value:t.msg.show,callback:function(e){t.$set(t.msg,"show",e)},expression:"msg.show"}},[i("div",[t._v("消息")])])],1)}),f=[],m=(s("20d6"),s("a481"),s("7f7f"),s("8c89")),g=s("e563"),y=s("775b"),b=s("bca5"),v={self:null,msgRouter:function(t){"group"==t.type?this.msgGroup(t):"msg"==t.type?this.msg(t):"notify"==t.type&&this.msgNotify(t)},msgGroup:function(t){this.self.$store.state.uMsg.group=t.data;var e=this.self.$store.state.uMsg.group,s=0;for(var i in e)s+=e[i].num;this.self.$store.state.uMsg.num=s},msg:function(t){var e=y["a"].getItem("voice");Object(b["a"])(t.data.title,t.data.content,!!e);var s=t.data.uid==this.self.$store.state.uInfo.uid?t.data.fid:t.data.uid;this.self.$store.state.uMsg.group[""+s]?(this.self.$store.state.uMsg.group[""+s].msg.push(t.data),this.self.$store.state.uMsg.group[""+s].num++,this.self.$store.state.uMsg.num++):this.self.$store.state.socket.send(JSON.stringify({type:"group"}))},msgNotify:function(t){console.log(t)},start:function(t){var e=this;this.self=t,clearInterval(this.msgInterval),this.msgInterval=setInterval((function(){!e.self.$store.state.isLogin||e.self.$store.state.socket&&1==e.self.$store.state.socket.readyState||e.start(t)}),3e3);var s=y["a"].getItem("token");if(!s)return!1;m["a"].socket.start&&this.socket(s)},socket:function(t){var e=this;this.self.$store.state.socket=new WebSocket(m["a"].socket.server+"?token="+t),this.self.$store.state.socket.onopen=function(){console.log("Socket开启"),clearInterval(e.heartbeat),e.heartbeat=setInterval((function(){try{e.self.$store.state.socket.send(JSON.stringify({type:""}))}catch(t){e._closeMsg()}}),1e4),setTimeout((function(){e.self.$store.state.socket.send(JSON.stringify({type:"group"}))}),1e3)},this.self.$store.state.socket.onclose=function(){console.log("Socket关闭"),e._closeMsg()},this.self.$store.state.socket.onmessage=function(t){var s=JSON.parse(t.data);if(0!=s.code)return Object(g["a"])(s.msg);e.msgRouter(s)}},_closeMsg:function(){this.self.$store.state.socket&&(this.self.$store.state.socket.close(),this.self.$store.state.socket=null,this.self.$store.state.uMsg.group=[],this.self.$store.state.uMsg.num="")}},w=s("8a2a"),k=s("fbd7"),_=s("4dc7"),C={self:null,init:function(t){var e=this;this.self=t,Object(_["a"])((function(){plus.screen.lockOrientation("portrait-primary"),plus.navigator.setStatusBarStyle("dark"),plus.navigator.setStatusBarBackground("#FFFFFF"),e.self.$store.state.statusBarHeight=plus.navigator.getStatusbarHeight(),setTimeout((function(){plus.navigator.closeSplashscreen()}),300),document.addEventListener("uistylechange",(function(){e.self.$store.state.mode=plus.navigator.getUiStyle()}),!1);var t=0,s=plus.webview.currentWebview();plus.key.addEventListener("backbutton",(function(){s.canBack((function(s){s.canBack?(e.self.$store.state.scan&&e.self.$store.state.scan.close(),Object(k["a"])(e.self,1)):(t>0&&plus.runtime.quit(),Object(g["a"])("再按一次退出应用!"),t++,setTimeout((function(){t=0}),2e3))}))}))})),this.tokenState(1),clearInterval(this.tokenInterval),this.tokenInterval=setInterval((function(){e.tokenState(0)}),1e4),v.start(this.self),this.getConfig()},tokenState:function(t){var e=this,s=y["a"].getItem("token");s?Object(w["a"])("user/token",{token:s,uinfo:t},(function(t){var s=t.data;0==s.code?(e.self.$store.state.isLogin=!0,s.uinfo&&(e.self.$store.state.uInfo=s.uinfo)):(e.self.$store.state.isLogin=!1,e.self.$store.state.uInfo={},y["a"].setItem("token",""))})):(this.self.$store.state.isLogin=!1,y["a"].setItem("token",""))},getConfig:function(){var t=this;Object(w["a"])("index/getConfig",{},(function(e){var s=e.data;0==s.code&&(t.self.$store.state.system=s.list)}))}},$=s("919a"),x=(s("28a5"),function(t,e){var s=t.split("."),i=e.split(".");return parseInt(s[0])<parseInt(i[0])||(parseInt(s[1])<parseInt(i[1])||parseInt(s[2])<parseInt(i[2]))}),I=s("5f06"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("div",{ref:"PopupBG",staticClass:"wm-popup_bg",style:{backgroundColor:"rgba(0,0,0,"+t.opacity+")"},on:{click:function(e){return t.clickBG()}}}),s("div",{ref:"PopupBody",staticClass:"wm-popup_body",style:{backgroundColor:t.bgColor}},[t._t("default")],2)])},M=[],L=(s("c5f6"),{name:"PopUp",model:{prop:"show",event:"show"},props:{show:{type:Boolean,default:!1},opacity:{type:Number,default:.7},bgClose:{type:Boolean,default:!0},position:{type:String,default:""},bgColor:{type:String,default:""}},data:function(){return{}},watch:{show:function(t){t&&this.showBG(!0)}},mounted:function(){var t=this.$refs.PopupBody||"";"left"==this.position?(t.style.height="110%",t.style.left=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(-110%,0)"):"right"==this.position?(t.style.height="100%",t.style.right=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(110%,0)"):"top"==this.position?(t.style.width="100%",t.style.left=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(0,-110%)"):"bottom"==this.position?(t.style.width="100%",t.style.left=0,t.style.bottom=0,t.style.opacity=1,t.style.transform="translate(0,110%)"):(t.style.left="50%",t.style.top="30%",t.style.opacity=0,t.style.transform="translate(-50%,-50%)")},methods:{showBG:function(t){var e=this;setTimeout((function(){var s=e.$refs.PopupBG||"",i=e.$refs.PopupBody||"";t?(s.style.opacity=1,"left"==e.position?i.style.transform="translate(-1px,0)":"right"==e.position?i.style.transform="translate(1px,0)":"top"==e.position?i.style.transform="translate(0,-1px)":"bottom"==e.position?i.style.transform="translate(0,1px)":(i.style.opacity=1,i.style.top="50%")):(s.style.opacity=0,"left"==e.position?i.style.transform="translate(-110%,0)":"right"==e.position?i.style.transform="translate(110%,0)":"top"==e.position?i.style.transform="translate(0,-110%)":"bottom"==e.position?i.style.transform="translate(0,110%)":(i.style.opacity=0,i.style.top="30%")),setTimeout((function(){e.$emit("show",t)}),300)}),300)},clickBG:function(){this.bgClose&&this.showBG(!1)}}}),P=L,O=(s("62e8"),s("2877")),B=Object(O["a"])(P,S,M,!1,null,"6f555959",null),U=B.exports,j=s("58fd"),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wm-scroll_html"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.upperLoad,expression:"upperLoad"}],ref:"upper",staticClass:"wm-scroll_load_body",style:{backgroundColor:t.upperBg}},[s("div",{staticClass:"wm-scroll_load"},[s("i",{class:t.upperIcon,style:{color:t.upperColor}})])]),s("div",{ref:"html",staticClass:"wm-scroll_view",class:t.scrollX?t.isMobile?"wm-scroll_view_x":"wm-scroll_view_y":t.isMobile?"":"wm-scroll_view_y",on:{touchstart:t.start,touchmove:t.move,touchend:t.end}},[t._t("default")],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lowerLoad,expression:"lowerLoad"}],ref:"lower",staticClass:"wm-scroll_load_body",style:{backgroundColor:t.lowerBg}},[s("div",{staticClass:"wm-scroll_load"},[s("i",{class:t.lowerIcon,style:{color:t.lowerColor}})])])])},N=[],T=(s("4917"),function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return!!t&&t[0]}),E={name:"ScrollView",props:{isScroll:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},upper:{type:Number,default:64},lower:{type:Number,default:64},upperLoad:{type:Boolean,default:!0},lowerLoad:{type:Boolean,default:!0},upperIcon:{type:String,default:"ui ui_loading"},lowerIcon:{type:String,default:"ui ui_loading"},upperBg:{type:String,default:""},lowerBg:{type:String,default:""},upperColor:{type:String,default:""},lowerColor:{type:String,default:""}},data:function(){return{isMobile:!0,sp:"y",html:{w:0,h:0},body:{w:0,h:0,x:0,y:0},limit:60,refUpper:{},refLower:{},refHtml:{},cubicBezier:"0.25,0.46,0.45,0.94"}},mounted:function(){this.isMobile=T(),this.sp=this.scrollX?"x":"y",this.refUpper=this.$refs.upper,this.refLower=this.$refs.lower,this.refHtml=this.$refs.html,"x"==this.sp?(this.refUpper.style.left=0,this.refUpper.style.width="".concat(this.upper,"px"),this.refUpper.style.height="100%",this.refUpper.style.transform="translate(-".concat(this.upper,"px,0)"),this.refHtml.style.overflowX="auto",this.refLower.style.right=0,this.refLower.style.width="".concat(this.lower,"px"),this.refLower.style.height="100%",this.refLower.style.transform="translate(".concat(this.lower,"px,0)")):(this.refUpper.style.top=0,this.refUpper.style.width="100%",this.refUpper.style.height="".concat(this.upper,"px"),this.refUpper.style.transform="translate(0,-".concat(this.upper,"px)"),this.refHtml.style.overflowY="auto",this.refLower.style.bottom=0,this.refLower.style.width="100%",this.refLower.style.height="".concat(this.lower,"px"),this.refLower.style.transform="translate(0,".concat(this.lower,"px)")),this.refHtml.addEventListener("scroll",this.scroll)},methods:{res:function(){return{x:this.body.x,y:this.body.y,w:this.body.w,h:this.body.h,boxW:this.html.w,boxH:this.html.h}},start:function(t){var e=t.touches?t.touches[0]:t;this.movePage={x:0,y:0},this.tmpPage={x:0,y:0},this.startPage={x:e.clientX,y:e.clientY},this.isUpper=!1,this.isLower=!1,this.html.w=this.refHtml.offsetWidth,this.html.h=this.refHtml.offsetHeight,this.body.w=this.refHtml.scrollWidth,this.body.h=this.refHtml.scrollHeight,this.scrollEnabled("auto")},move:function(t){if(!this.isScroll)return!1;var e=t.touches?t.touches[0]:t;if(this.movePage={x:parseInt(e.clientX-this.startPage.x),y:parseInt(e.clientY-this.startPage.y)},this.tmpPage[this.sp]=this.movePage[this.sp],this.body[this.sp]<=0&&this.tmpPage[this.sp]>0){this.isUpper=!0,this.scrollEnabled("hidden");var s=this.upper-this.tmpPage[this.sp];s<0&&(this.tmpPage[this.sp]=this.upper),this.tmpPage[this.sp]!=this.tmpUpper&&(this.tmpUpper=this.tmpPage[this.sp],this._translateUpper(s>0?s:0,100),this.translate(this.tmpPage[this.sp],100),"x"==this.sp?(this.body.x=-this.tmpPage[this.sp],this.body.y=0,this.$emit("scroll",this.res())):(this.body.x=0,this.body.y=-this.tmpPage[this.sp],this.$emit("scroll",this.res())))}else if(this.body[this.sp]>0&&this.body[this.sp]>=this.body["x"==this.sp?"w":"h"]-this.html["x"==this.sp?"w":"h"]&&this.tmpPage[this.sp]<0){this.isLower=!0,this.scrollEnabled("hidden");var i=this.lower+this.tmpPage[this.sp];i<0&&(this.tmpPage[this.sp]=-this.lower),this.tmpPage[this.sp]!=this.tmpLower&&(this.tmpLower=this.tmpPage[this.sp],this._translateLower(i>0?i:0,100),this.translate(this.tmpPage[this.sp],100),"x"==this.sp?(this.body.x=this.body.w-this.html.w-this.tmpPage[this.sp],this.body.y=0,this.$emit("scroll",this.res())):(this.body.x=0,this.body.y=this.body.h-this.html.h-this.tmpPage[this.sp],this.$emit("scroll",this.res())))}},end:function(t){this.isUpper?(this.isUpper=!1,this._translateUpper(this.upper,400),this.translate(0,400),this.scrollEnabled("auto"),"x"==this.sp?(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("left",this.res())):(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("down",this.res()))):this.isLower&&(this.isLower=!1,this._translateLower(this.lower,400),this.translate(0,400),this.scrollEnabled("auto"),"x"==this.sp?(this.body.x=this.body.w-this.html.w,this.body.y=0,this.$emit("scroll",this.res()),this.$emit("right",this.res())):(this.body.x=0,this.body.y=this.body.h-this.html.h,this.$emit("scroll",this.res()),this.$emit("up",this.res())));var e=Math.abs(this.movePage.x/this.movePage.y)||0;e>1&&this.movePage.x>this.limit?this.$emit("swipe","left"):e>1&&this.movePage.x<-this.limit?this.$emit("swipe","right"):e<1&&this.movePage.y>this.limit?this.$emit("swipe","down"):e<1&&this.movePage.y<-this.limit&&this.$emit("swipe","up")},scroll:function(){this.body.x=parseInt(this.refHtml.scrollLeft),this.body.y=parseInt(this.refHtml.scrollTop),this.$emit("scroll",this.res())},scrollEnabled:function(t){t=t||"auto","x"==this.sp?this.refHtml.style.overflowX=t:this.refHtml.style.overflowY=t},translate:function(t,e){this.refHtml.style.transitionDuration="".concat(e,"ms"),this.refHtml.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refHtml.style.transform="translate(".concat(t,"px,0)"):this.refHtml.style.transform="translate(0,".concat(t,"px)")},_translateUpper:function(t,e){this.refUpper.style.opacity=(100-t/this.upper*100)/100,this.refUpper.style.transitionDuration="".concat(e,"ms"),this.refUpper.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refUpper.style.transform="translate(-".concat(t,"px,0)"):this.refUpper.style.transform="translate(0,-".concat(t,"px)")},_translateLower:function(t,e){this.refLower.style.opacity=(100-t/this.lower*100)/100,this.refLower.style.transitionDuration="".concat(e,"ms"),this.refLower.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refLower.style.transform="translate(".concat(t,"px,0)"):this.refLower.style.transform="translate(0,".concat(t,"px)")}}},H=E,F=(s("c064"),Object(O["a"])(H,A,N,!1,null,"473f2977",null)),D=F.exports,z={name:"APP",components:{Action:j["a"],Popup:U,ScrollView:D},data:function(){return{storage:y["a"],update:{show:!1,os:"",down:!1,loading:"0%",msg:"检测更新",file:"",total:0},upDateColor:m["a"].update,login:{uname:"",passwd:"",subText:"登 录",dis:!1},menus:[],config:{show:!1,title:"系统配置",is_msg_audio:!0},msg:{show:!1}}},mounted:function(){C.init(this),m["a"].update.start&&this.isUpdate(),y["a"].getItem("token")&&this.getMenus(),this._enter()},methods:{isUpdate:function(){var t=this;Object(_["a"])((function(){t.update.os=plus.os.name,Object(w["a"])("index/appUpdate",{os:t.update.os},(function(e){var s=e.data;if(0!=s.code)return!1;plus.runtime.getProperty(plus.runtime.appid,(function(e){if(!x(e.version,s.version))return!1;t.update.show=!0,t.update.down=!0,t.update.msg="新版本: "+s.version+"&nbsp;&nbsp;大小: "+(s.size/1024/1024).toFixed(2)+"MB",t.update.file=m["a"].baseUrl+s.file,t.update.total=s.size}))}))}))},updateDown:function(){var t=this;if(this.update.down=!1,this.update.msg="开始下载",this.update.loading="0%","iOS"==this.update.os)this.update.msg="请在桌面查看安装进度",window.open(m["a"].upIosUrl),setTimeout((function(){plus.runtime.quit()}),5e3);else{var e=plus.downloader.createDownload(this.update.file,{filename:"_doc/download/",timeout:30},(function(e,s){200==s?plus.runtime.install(e.filename,{force:!0},(function(){plus.runtime.restart()}),(function(t){Object(g["a"])("安装失败!")})):(t.update.down=!0,t.update.msg="下载失败")}));e.start(),e.addEventListener("statechanged",(function(e,s){var i=parseInt(e.downloadedSize/t.update.total*100);t.update.loading=i+"%",t.update.msg="正在下载："+t.update.loading,i>=100&&(t.update.msg="下载完成，安装并重启")}))}},loginSub:function(){var t=this,e=this.login.uname,s=this.login.passwd,i=Object(I["a"])("passwd",s);if(!0!==Object(I["a"])("uname",e)&&!0!==Object(I["a"])("email",e)&&!0!==Object(I["a"])("tel",e))return Object(g["a"])("请输入帐号/手机/邮箱");if(!0!==i)return Object(g["a"])(i);this.login.subText="正在登录",this.login.dis=!0;var o=Object($["a"])();Object(w["a"])("user/login",{uname:e,passwd:s},(function(e){o.clear(),t.login.subText="登 录",t.login.dis=!1;var s=e.data;0==s.code?(t.$store.state.isLogin=!0,t.$store.state.uInfo=s.uinfo,y["a"].setItem("token",s.token),t.getMenus(),t.$router.replace({path:"/refresh"})):(t.$store.state.isLogin=!1,t.$store.state.uInfo={},y["a"].setItem("token",""),Object(g["a"])(s.msg))}),(function(t){o.clear(),Object(g["a"])("网络加载失败!")}))},logout:function(){this.$store.state.isLogin=!1,this.$store.state.uInfo={},y["a"].setItem("token",""),v._closeMsg(),this._enter()},_enter:function(){var t=arguments,e=this;document.onkeydown=function(s){var i=s||window.event||t.callee.caller.arguments[0];i&&13==i.keyCode&&!e.$store.state.isLogin&&e.loginSub()}},getMenus:function(){var t=this;this.$store.state.collapseMenu="true"==y["a"].getItem("isCollapse"),this.$store.state.defaultMenu=y["a"].getItem("defaultMenu")?y["a"].getItem("defaultMenu"):"3",Object(w["a"])("Usermain/getMenus",{token:y["a"].getItem("token")},(function(e){var s=e.data;0==s.code&&(t.$store.state.menus=s.menus)}))},hideMenus:function(){this.isCollapse=!this.isCollapse,y["a"].setItem("isCollapse",this.isCollapse),this.$store.state.collapseMenu=this.isCollapse},openUrl:function(t,e,s,i){if(y["a"].setItem("MenuName",i),y["a"].setItem("defaultMenu",s),this.$store.state.defaultMenu=s,"3"!=s){var o=JSON.parse(y["a"].getItem("Menus")||"[]"),n={ico:t,url:e,index:s,name:i},a=o.findIndex((function(t){return JSON.stringify(t)==JSON.stringify(n)}));a>=0&&o.splice(a,1),o.push({ico:t,url:e,index:s,name:i}),y["a"].setItem("Menus",JSON.stringify(o))}this.$router.push(e)},openConfig:function(){this.config.show=!0},subConfig:function(t){var e=this,s={};s[t]=this.config[t]?"1":"0";var i=Object($["a"])();Object(w["a"])("Userinfo/edit",{token:y["a"].getItem("token"),data:JSON.stringify(s)},(function(s){i.clear();var o=s.data;return e.$store.state.uinfo[t]=e.config[t],o.code,Object(g["a"])(o.msg)}))},openMsg:function(){this.msg.show=!0}}},W=z,J=(s("034f"),s("5e9f"),Object(O["a"])(W,d,f,!1,null,"5a4944ef",null)),G=J.exports;document.title=m["a"].title,i["default"].config.productionTip=m["a"].dev,i["default"].prototype.$config=m["a"],i["default"].use(h.a),new i["default"]({router:l,store:u,render:function(t){return t(G)}}).$mount("#app")},"58fd":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.actions.length?s("el-row",{staticClass:"action",style:{minWidth:t.width}},[s("el-button-group",{ref:"Action"},t._l(t.actions,(function(e){return s("el-button",{key:e.name,attrs:{icon:e.ico},on:{click:function(s){return t.openAction(e.action)}}},[t._v(t._s(e.name))])})),1)],1):t._e()},o=[],n=s("0169"),a={name:"ImageView",props:{url:{type:String,default:""},menus:""},data:function(){return{width:"1200px",actions:[]}},watch:{url:function(t){this.getAction(this.url)}},mounted:function(){this.getAction(this.url)},methods:{getAction:function(t){var e=this;Object(n["a"])("Usermain/getMenusAction",{token:n["b"].getItem("token"),url:t},(function(t){var s=t.data;if(0==s.code){if(e.actions=s.menuAction,e.menus)for(var i in e.menus)e.actions.push(e.menus[i]);setTimeout((function(){var t=e.$refs.Action.$el;e.width=t.offsetWidth+1+"px",e.$store.state.action.width=e.width}),3e3)}}))},openAction:function(t){var e=this;this.$store.state.action.type=t,setTimeout((function(){e.$store.state.action.type=""}),1e3)}}},r=a,l=s("2877"),c=Object(l["a"])(r,i,o,!1,null,null,null);e["a"]=c.exports},"5e9f":function(t,e,s){"use strict";var i=s("6d22"),o=s.n(i);o.a},"5f06":function(t,e,s){"use strict";var i=s("e563");e["a"]=function(t,e,s){s=s||!1;var o=!1,n="",a={uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{4,15}$/,tel:/^[1]\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,vcode:/^\d{4}$/,passwd:/^[a-zA-Z0-9|_|@|-|*|&]{6,16}$/};switch(t){case"uname":o=a.uname.test(e),n=o?"":"用户名英文开头5~16位！";break;case"tel":o=a.tel.test(e),n=o?"":"手机号码错误！";break;case"email":o=a.email.test(e),n=o?"":"邮箱帐号错误！";break;case"vcode":o=a.vcode.test(e),n=o?"":"验证码4位！";break;case"passwd":o=a.passwd.test(e),n=o?"":"密码为6~16位字符！";break}return n&&s&&Object(i["a"])(n),!!o||n}},"62e8":function(t,e,s){"use strict";var i=s("c687"),o=s.n(i);o.a},"64a9":function(t,e,s){},"6d22":function(t,e,s){},"775b":function(t,e,s){"use strict";e["a"]={setItem:function(t,e){return window.localStorage.setItem(t,e)},getItem:function(t){return window.localStorage.getItem(t)},clear:function(){return window.localStorage.clear()}}},"86d5":function(t,e,s){t.exports=s.p+"img/bg.197fc15f.jpg"},"8a2a":function(t,e,s){"use strict";var i=s("8c89"),o=s("bc3a"),n=s.n(o);e["a"]=function(t,e,s,o,a){var r=t.substr(0,4);t="http"==r?t:i["a"].apiUrl+t;var l=new FormData;for(var c in e)l.append(c,e[c]);var u=i["a"].request;for(var p in a=a||{},u)a[p]=u[p];n.a.post(t,l,a).then(s).catch(o)}},"8aa1":function(t,e,s){},"8c89":function(t,e,s){"use strict";var i="WebMIS-Admin",o="https://demo-api.webmis.vip/",n="wss://demo-api.webmis.vip/wss";e["a"]={dev:!1,title:i,version:"1.0.0",baseUrl:o,apiUrl:o+"admin/",copy:"Copyright © WebMIS.vip 2020",request:{headers:{"Content-Type":"multipart/form-data"}},statusBar:{height:"0px",color:"#333",bgColor:"#FFF"},update:{start:!0,bg:"#6FB737",logoBg:"#FFF",loading:"#FFF",loaded:"#666",copy:"#333",butColor:"#666",butBg:"#FFF",butText:"下载并安装"},upIosUrl:"",amapKey:"d956f0c3e15489a1b5bf291e5d133c8a",baiduOcr:"https://aip.baidubce.com/rest/2.0/ocr/v1/",socket:{start:!1,server:n},msgRead:300,msgContent:"content",msgBrowser:!1}},"919a":function(t,e,s){"use strict";e["a"]=function(t){var e=document.getElementsByClassName("wm-ui_load")[0];e&&document.body.removeChild(e);var s=document.createElement("div");s.setAttribute("class","wm-ui_load"),s.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(s),t=t||1e4;var i=setTimeout((function(){e=document.getElementsByClassName("wm-ui_load")[0],e&&document.body.removeChild(e)}),t);return{clear:function(){document.body.removeChild(s),clearTimeout(i)}}}},"9b19":function(t,e,s){t.exports=s.p+"img/logo.5f2c810c.svg"},ac30:function(t,e,s){},bca5:function(t,e,s){"use strict";s("7f7f");var i=s("e563"),o=s("8a2a");e["a"]=function(t,e,s){Inc.config.msgBrowser&&window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission((function(s){new Notification(t,{body:e})}));var n="title"==Inc.config.msgContent?t:e;if(Object(i["a"])(n),s=s||!1,s){var a=Inc.storage.getItem("token")||"";if(!a)return Object(i["a"])("请先登录!");Object(o["a"])("Usermain/baiduAudio",{token:a,text:n},(function(t){var e=t.data;if(0!=e.code)return Object(i["a"])(e.msg);var s=new Audio;s.src=e.url;try{if("iOS"==plus.os.name){var o=plus.ios.importClass("AVAudioSession"),a=o.sharedInstance();a.setCategoryerror("AVAudioSessionCategoryPlayback",null),a.setActiveerror("YES",null);var r=plus.ios.importClass("AVSpeechSynthesizer"),l=plus.ios.importClass("AVSpeechUtterance"),c=plus.ios.import("AVSpeechSynthesisVoice"),u=new r,p=c.voiceWithLanguage("zh-CN"),h=l.speechUtteranceWithString(n);h.setVoice(p),u.speakUtterance(h)}else s.play()}catch(d){s.play()}}))}}},c064:function(t,e,s){"use strict";var i=s("ac30"),o=s.n(i);o.a},c687:function(t,e,s){},e563:function(t,e,s){"use strict";e["a"]=function(t,e){var s=document.createElement("div");s.setAttribute("class","wm-ui_toast"),s.innerHTML="<span>"+t+"</span>",document.body.appendChild(s),setTimeout((function(){s.style.opacity="1",s.style.top="10%"}),100),e=e||3e3,setTimeout((function(){document.body.removeChild(s)}),e)}},fbd7:function(t,e,s){"use strict";e["a"]=function(t,e){t.$router.goBack(-e)}}});