(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8877356"],{"0005":function(t,e,a){},"1a12":function(t,e,a){},"1cff":function(t,e,a){"use strict";a("61b1")},3596:function(t,e,a){},3950:function(t,e,a){"use strict";var n=a("7a23"),i=Object(n["H"])("data-v-4650fccb");Object(n["t"])("data-v-4650fccb");var c={ref:"form"};Object(n["r"])();var r=i((function(t,e,a,i,r,u){return Object(n["q"])(),Object(n["e"])("div",c,[Object(n["x"])(t.$slots,"default")],512)})),u={name:"Form",props:{labelWidth:{type:String,default:"90px"},labelHeight:{type:String,default:"40px"}},mounted:function(){for(var t=this.$refs.form,e=t.getElementsByTagName("label"),a=t.getElementsByClassName("wm-form_item_body"),n=0;n<e.length;n++)e[n].style.width=this.labelWidth,a[n].style.marginLeft=this.labelWidth,e[n].style.height=this.labelHeight}};a("a705");u.render=r,u.__scopeId="data-v-4650fccb";e["a"]=u},5314:function(t,e,a){"use strict";a("c40f")},5530:function(t,e,a){},"58d9":function(t,e,a){"use strict";a("1a12")},"5ca0":function(t,e,a){"use strict";a("ec6f")},"61b1":function(t,e,a){},"806b":function(t,e,a){},"8f77":function(t,e,a){"use strict";a.r(e);a("b0c0");var n=a("7a23"),i=Object(n["H"])("data-v-e1204d5c");Object(n["t"])("data-v-e1204d5c");var c=Object(n["g"])("保存设置");Object(n["r"])();var r=i((function(t,e,a,r,u,o){var l=Object(n["y"])("wm-img"),d=Object(n["y"])("wm-img-upload"),s=Object(n["y"])("wm-form-item"),h=Object(n["y"])("wm-input"),f=Object(n["y"])("wm-radio"),m=Object(n["y"])("wm-date"),b=Object(n["y"])("wm-button"),g=Object(n["y"])("wm-form"),p=Object(n["y"])("wm-main");return Object(n["q"])(),Object(n["e"])(p,null,{default:i((function(){return[Object(n["h"])(g,{class:"max_width"},{default:i((function(){return[Object(n["h"])(s,{label:"头像"},{default:i((function(){return[Object(n["h"])(d,{url:t.upload.url,param:t.upload.param,onUpload:t.upImg},{default:i((function(){return[Object(n["h"])(l,{width:"80px",height:"80px",radius:"50%",url:t.form.img},null,8,["url"])]})),_:1},8,["url","param","onUpload"])]})),_:1}),Object(n["h"])(s,{label:"昵称"},{default:i((function(){return[Object(n["h"])(h,{value:t.form.nickname,"onUpdate:value":e[1]||(e[1]=function(e){return t.form.nickname=e}),maxlength:"12",placeholder:"用户昵称"},null,8,["value"])]})),_:1}),Object(n["h"])(s,{label:"姓名"},{default:i((function(){return[Object(n["h"])(h,{value:t.form.name,"onUpdate:value":e[2]||(e[2]=function(e){return t.form.name=e}),maxlength:"8",placeholder:"填写姓名"},null,8,["value"])]})),_:1}),Object(n["h"])(s,{label:"性别"},{default:i((function(){return[Object(n["h"])(f,{data:t.gender,value:t.form.gender,"onUpdate:value":e[3]||(e[3]=function(e){return t.form.gender=e})},null,8,["data","value"])]})),_:1}),Object(n["h"])(s,{label:"生日"},{default:i((function(){return[Object(n["h"])(m,{value:t.form.birthday,"onUpdate:value":e[4]||(e[4]=function(e){return t.form.birthday=e})},null,8,["value"])]})),_:1}),Object(n["h"])(s,{label:"职务"},{default:i((function(){return[Object(n["h"])(h,{value:t.form.position,"onUpdate:value":e[5]||(e[5]=function(e){return t.form.position=e}),maxlength:"8",placeholder:"职务、职称"},null,8,["value"])]})),_:1}),Object(n["h"])(s,{type:"botton"},{default:i((function(){return[Object(n["h"])(b,{onClick:e[6]||(e[6]=function(e){return t.onSubmit()})},{default:i((function(){return[c]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),u=a("919a"),o=a("e563"),l=a("8a2a"),d=a("775b"),s=a("b288"),h=a("3950"),f=a("d4fc"),m=a("edb5"),b=Object(n["H"])("data-v-e2830794");Object(n["t"])("data-v-e2830794");var g={class:"name"};Object(n["r"])();var p=b((function(t,e,a,i,c,r){return Object(n["q"])(),Object(n["e"])("div",null,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(a.data,(function(e,a){return Object(n["q"])(),Object(n["e"])("div",{class:"wm-radio_item",key:a,onClick:function(a){return t.$emit("update:value",e.val)}},[Object(n["h"])("div",{class:["checked",e.checked?"active":""]},null,2),Object(n["h"])("div",g,Object(n["B"])(e.name),1)],8,["onClick"])})),128))])})),v={name:"Radio",props:{data:{type:Array,default:[]},value:{type:String,default:""}},watch:{value:function(t){this.radioClick(t)}},mounted:function(){this.value&&this.radioClick(this.value)},methods:{radioClick:function(t){for(var e in this.data)this.data[e].checked=!1,this.data[e].val==t&&(this.data[e].checked=!0)}}};a("5ca0");v.render=p,v.__scopeId="data-v-e2830794";var j=v,O=Object(n["H"])("data-v-b2973b36");Object(n["t"])("data-v-b2973b36");var w={class:"wm-date_body"},y=Object(n["h"])("div",{class:"wm-date_arrow"},null,-1);Object(n["r"])();var _=O((function(t,e,a,i,c,r){var u=Object(n["y"])("wm-input");return Object(n["q"])(),Object(n["e"])("div",{class:"wm-date",style:{width:a.width}},[Object(n["h"])(u,{value:a.value,"onUpdate:value":e[1]||(e[1]=function(t){return a.value=t}),placeholder:a.placeholder},null,8,["value","placeholder"]),Object(n["h"])("div",w,[y,Object(n["h"])("div",{class:"wm-date_ct",onClick:e[2]||(e[2]=function(t){return r.getDate()})},"暂不更新,点击获取今天")])],4)})),k=function(t,e){var a=e?new Date(e):new Date;a.setDate(a.getDate()+t);var n=a.getFullYear(),i=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,c=a.getDate()<10?"0"+a.getDate():a.getDate();return n+"-"+i+"-"+c},I={name:"Date",components:{wmInput:m["a"]},props:{value:{type:String,default:""},width:{type:String,default:"160px"},placeholder:{type:String,default:"选择日期"}},mounted:function(){this.value&&this.radioClick(this.value)},methods:{getDate:function(){var t=k(0);this.$emit("update:value",t)}}};a("d2ce"),a("1cff");I.render=_,I.__scopeId="data-v-b2973b36";var x=I,S=a("903b"),M=Object(n["H"])("data-v-55e12d1e");Object(n["t"])("data-v-55e12d1e");var U={ref:"img",class:"wm-img"},D={key:1,class:"wm-img_null"};Object(n["r"])();var q=M((function(t,e,a,i,c,r){return Object(n["q"])(),Object(n["e"])("div",U,[a.url?(Object(n["q"])(),Object(n["e"])("div",{key:0,style:{backgroundImage:"url("+a.url+")",backgroundSize:a.size}},null,4)):(Object(n["q"])(),Object(n["e"])("div",D,[Object(n["h"])("i",{class:"ui ui_img",title:a.title,style:{fontSize:a.icoSize}},null,12,["title"])]))],512)})),C={name:"Img",props:{url:{type:String,default:""},size:{type:String,default:"cover"},width:{type:String,default:"90px"},height:{type:String,default:"40px"},radius:{type:String,default:"0px"},title:{type:String,default:"图片"},icoSize:{type:String,default:"32px"}},mounted:function(){var t=this.$refs.img.style;t.width=this.width,t.height=this.height,t.lineHeight=this.height,t.borderRadius=this.radius}};a("b060");C.render=q,C.__scopeId="data-v-55e12d1e";var H=C,$=Object(n["H"])("data-v-327f91cc"),R=$((function(t,e,a,i,c,r){return Object(n["q"])(),Object(n["e"])("div",{class:"wm-upload",onClick:e[1]||(e[1]=function(t){return r.upImage()}),title:a.title},[Object(n["x"])(t.$slots,"default")],8,["title"])})),F=(a("a9e3"),function(t,e){try{var a=plus.camera.getCamera();a.captureImage((function(e){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){t(e)}))}),(function(t){return Object(o["a"])("读取拍照失败!")}))}),e)}catch(i){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("style","display: none"),document.body.appendChild(n),n.click(),n.onchange=function(){t(n.files[0])}}}),L=function(t,e,a){var n=e.width||0,i=e.height||0,c=e.cut||!0,r=e.quality||.8,u=e.ext||"jpg",o={jpg:"image/jpeg",png:"image/png",gif:"image/gif"},l=1,d=1,s=0,h=0,f=1,m=l/d,b=document.createElement("canvas"),g=b.getContext("2d"),p=new Image;p.src=t,p.onload=function(){m=this.width/this.height,n>0&&0==i?(l=n<this.width?n:this.width,d=n<this.width?Math.round(n/m):Math.round(this.width/m),n=l,i=d):0==n&&i>0?(l=i<this.height?Math.round(i*m):Math.round(this.height*m),d=i<this.height?i:this.height,n=l,i=d):0==n&&0==i?(l=this.width,d=this.height,n=l,i=d):(f=n/i,m>f?n<this.width?(l=c?Math.round(i*m):n,d=c?i:Math.round(n/m)):(l=c?Math.round(this.height*m):this.width,d=c?this.height:Math.round(this.width/m)):i<this.height?(l=c?n:Math.round(i*m),d=c?Math.round(n/m):i):(l=c?this.width:Math.round(this.height*m),d=c?Math.round(this.width/m):this.height)),b.width=n,b.height=i,s=Math.round(n-l)/2,h=Math.round(i-d)/2,g.drawImage(this,s,h,l,d);var t=b.toDataURL(o[u],r);a(t)}},z=function(t,e,a){try{var n=new plus.io.FileReader;n.readAsDataURL(t),n.onloadend=function(){e.ext||("image/jpeg"==t.type?e.ext="jpg":"image/png"==t.type?e.ext="png":"image/gif"==t.type&&(e.ext="gif")),L(this.result,e,a)}}catch(c){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){e.ext||("image/jpeg"==t.type?e.ext="jpg":"image/png"==t.type?e.ext="png":"image/gif"==t.type&&(e.ext="gif")),L(this.result,e,a)}}},A={name:"ImgUpLoad",props:{url:{type:String,default:""},width:{type:Number,default:200},height:{type:Number,default:200},param:{type:Object,default:{}},title:{type:String,default:"上传图片"}},methods:{upImage:function(){var t=this;F((function(e){z(e,{width:t.width,height:t.height},(function(e){if(!t.url)return Object(o["a"])("上传Url地址为空!");var a=Object(u["a"])();t.param.base64=e,Object(l["a"])(t.url,t.param,(function(e){a.clear();var n=e.data;return t.$emit("upload",n),Object(o["a"])(n.msg)}))}))}))}}};a("ec62");A.render=R,A.__scopeId="data-v-327f91cc";var B=A,N={components:{wmMain:s["a"],wmForm:h["a"],wmFormItem:f["a"],wmInput:m["a"],wmRadio:j,wmDate:x,wmButton:S["a"],wmImg:H,wmImgUpload:B},data:function(){return{store:this.$store.state,form:{img:"",nickname:"",name:"",gender:"男",birthday:"",position:""},gender:[{name:"男",val:"男"},{name:"女",val:"女"}],upload:{url:"Userinfo/upImg",param:{token:d["a"].getItem("token")}}}},activated:function(){this.store.action.url="",this.store.action.menus="",this.loadData()},methods:{loadData:function(){var t=this,e=Object(u["a"])();Object(l["a"])("Userinfo/list",{token:d["a"].getItem("token")},(function(a){e.clear();var n=a.data;if(0!=n.code)return Object(o["a"])(n.msg);t.form=n.list}))},onSubmit:function(){var t=this,e=JSON.stringify(this.form),a=Object(u["a"])();Object(l["a"])("Userinfo/edit",{token:d["a"].getItem("token"),data:e},(function(e){a.clear();var n=e.data;return 0==n.code&&(t.store.uInfo=n.uinfo),Object(o["a"])(n.msg)}))},upImg:function(t){return 0==t.code&&(this.form.img=t.img,this.store.uInfo.img=t.img),Object(o["a"])(t.msg)}}};a("5314");N.render=r,N.__scopeId="data-v-e1204d5c";e["default"]=N},"9b8a":function(t,e,a){},a705:function(t,e,a){"use strict";a("9b8a")},b060:function(t,e,a){"use strict";a("806b")},b288:function(t,e,a){"use strict";var n=a("7a23"),i=Object(n["H"])("data-v-0e505738");Object(n["t"])("data-v-0e505738");var c={class:"wm-main wm-main_y"},r={class:"wm-main_body"};Object(n["r"])();var u=i((function(t,e,a,i,u,o){return Object(n["q"])(),Object(n["e"])("div",c,[Object(n["h"])("div",r,[Object(n["x"])(t.$slots,"default")])])})),o={name:"Main"};a("58d9");o.render=u,o.__scopeId="data-v-0e505738";e["a"]=o},c40f:function(t,e,a){},d2ce:function(t,e,a){"use strict";a("5530")},d4fc:function(t,e,a){"use strict";var n=a("7a23"),i=Object(n["H"])("data-v-fc226508");Object(n["t"])("data-v-fc226508");var c={class:"wm-form_item_label"},r={class:"wm-form_item_body"};Object(n["r"])();var u=i((function(t,e,a,i,u,o){return Object(n["q"])(),Object(n["e"])("div",{class:"wm-form_item",style:{margin:u.margin}},[Object(n["h"])("label",c,Object(n["B"])(a.label),1),Object(n["h"])("div",r,[Object(n["x"])(t.$slots,"default")])],4)})),o={name:"FormItem",props:{type:{type:String,default:"label"},label:{type:String,default:""}},data:function(){return{margin:""}},mounted:function(){"label"==this.type?this.margin="8px 0":"botton"==this.type&&(this.margin="24px 0")}};a("ebb8");o.render=u,o.__scopeId="data-v-fc226508";e["a"]=o},ebb8:function(t,e,a){"use strict";a("3596")},ec62:function(t,e,a){"use strict";a("0005")},ec6f:function(t,e,a){}}]);