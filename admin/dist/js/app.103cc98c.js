(function(t){function e(e){for(var s,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(s=!1)}s&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},i={app:0},o={app:0},a=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d22fdb0":"65996a68","chunk-3cbc9db6":"ffef2fe2","chunk-5ba694fc":"4c043658","chunk-89f5702a":"4876280f","chunk-93a9148e":"dd8d5faa","chunk-f4ab6f84":"0d422cea","chunk-f73eae64":"1df01f00"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-3cbc9db6":1,"chunk-5ba694fc":1,"chunk-89f5702a":1,"chunk-93a9148e":1,"chunk-f4ab6f84":1,"chunk-f73eae64":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-2d22fdb0":"31d6cfe0","chunk-3cbc9db6":"47942411","chunk-5ba694fc":"09dd9cb6","chunk-89f5702a":"4890e5d4","chunk-93a9148e":"92647ec0","chunk-f4ab6f84":"7ad49bc9","chunk-f73eae64":"be0433e9"}[t]+".css",o=c.p+s,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var l=a[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===s||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete i[t],p.parentNode.removeChild(p),n(a)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){i[t]=0})));var s=o[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,n){s=o[t]=[e,n]}));e.push(s[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",d.name="ChunkLoadError",d.type=s,d.request=i,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"065b":function(t,e,n){"use strict";n("9960")},"0c8e":function(t,e,n){},1254:function(t,e,n){},"4d0e":function(t,e,n){"use strict";n("d0a7")},"56d7":function(t,e,n){"use strict";n.r(e);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),i=(n("d3b7"),n("6c02")),o=[{path:"/",name:"index",component:function(){return n.e("chunk-89f5702a").then(n.bind(null,"d504"))}},{path:"/demo",name:"Demo",component:function(){return n.e("chunk-93a9148e").then(n.bind(null,"c876"))}},{path:"/refresh",name:"Refresh",component:function(){return n.e("chunk-2d22fdb0").then(n.bind(null,"ea97"))}},{path:"/UserInfo",name:"UserInfo",component:function(){return n.e("chunk-3cbc9db6").then(n.bind(null,"8f77"))}},{path:"/UserPasswd",name:"UserPasswd",component:function(){return n.e("chunk-5ba694fc").then(n.bind(null,"5573"))}},{path:"/SysFileManage",name:"SysFileManage",component:function(){return n.e("chunk-f4ab6f84").then(n.bind(null,"52e8"))}},{path:"/SysUser",name:"SysUser",component:function(){return n.e("chunk-f73eae64").then(n.bind(null,"6a53"))}}],a=Object(i["a"])({history:Object(i["b"])(""),routes:o});a.goBack=function(t){this.isBack=!0,this.go(t)};var r=a,c=n("5502"),l=Object(c["a"])({state:{mode:"light",statusBarHeight:0,isLogin:"",uInfo:{},system:{},menuName:"",action:{url:"",type:"",width:"",menus:""},socket:null,scan:null},mutations:{},actions:{},modules:{}}),u=Object(s["H"])("data-v-0cb072e5");Object(s["t"])("data-v-0cb072e5");var d={id:"app"},p={class:"update_ct"},h=Object(s["h"])("div",null,null,-1),f={class:"load_button"},b={class:"login_body"},m={class:"login_logo flex_center"},g={class:"nowrap"},v={class:"login_ct"},y={class:"login_type"},O={class:"login_type_list"},j={class:"login_type_title"},w=Object(s["h"])("h3",null,"会员登录",-1),k={class:"login_input"},_={class:"login_input"},x={class:"login_input"},C={class:"login_copy nowrap"},I={class:"app_left"},S={class:"app_user"},B={class:"img"},F={key:1,class:"bgImg tu"},A={class:"info nowrap"},P={class:"app_login nowrap"},$={class:"config"},U=Object(s["g"])("> "),H={class:"app_right"},N={class:"app_main"},L={class:"app_copy"};Object(s["r"])();var E=u((function(t,e,i,o,a,r){var c=Object(s["y"])("wm-button"),l=Object(s["y"])("wm-popover"),E=Object(s["y"])("wm-input"),M=Object(s["y"])("wm-menu"),T=Object(s["y"])("scroll-view"),q=Object(s["y"])("wm-action"),D=Object(s["y"])("router-view");return Object(s["q"])(),Object(s["e"])("div",d,[t.update.show?(Object(s["q"])(),Object(s["e"])("div",{key:0,class:"update_body",style:{backgroundColor:t.upDateColor.bg}},[Object(s["h"])("div",p,[Object(s["h"])("div",{class:"logo",style:{backgroundColor:t.upDateColor.logoBg}},[h],4),Object(s["h"])("div",{class:"loading",style:{backgroundImage:"linear-gradient(to right, "+t.upDateColor.loading+", "+t.upDateColor.loading+" "+t.update.loading+", "+t.upDateColor.loaded+" "+t.update.loading+", "+t.upDateColor.loaded+" 100%)"}},null,4),Object(s["h"])("div",{class:"load_msg",style:{color:t.upDateColor.msgColor}},Object(s["B"])(t.update.msg),5),Object(s["h"])("div",f,[t.update.down?(Object(s["q"])(),Object(s["e"])(c,{key:0,size:"medium",onClick:e[1]||(e[1]=function(e){return t.updateDown()})},{default:u((function(){return[Object(s["g"])(Object(s["B"])(t.upDateColor.butText),1)]})),_:1})):Object(s["f"])("",!0)])]),Object(s["h"])("div",{class:"update_logo",style:{color:t.upDateColor.copy}},[Object(s["h"])("h1",null,Object(s["B"])(t.env.title),1),Object(s["h"])("h2",null,Object(s["B"])(t.env.copy),1)],4)],4)):Object(s["f"])("",!0),Object(s["G"])(Object(s["h"])("div",{class:"login_bg bgImg bgcover",style:{backgroundImage:"url("+(t.store.system.login_bg?t.store.system.login_bg:n("86d5"))+")"}},[Object(s["h"])("div",b,[Object(s["h"])("div",m,[Object(s["h"])("div",{class:"bgImg",style:{backgroundImage:"url("+(t.store.system.logo?t.store.system.logo:n("9b19"))+")"}},null,4),Object(s["h"])("h2",g,Object(s["B"])(t.store.system.title),1)]),Object(s["h"])("div",v,[Object(s["h"])("div",y,[Object(s["h"])(l,{type:"bottom",effect:"dark",width:"180px"},{body:u((function(){return[Object(s["h"])("ul",O,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["w"])(t.language,(function(e,n){return Object(s["q"])(),Object(s["e"])(s["a"],null,[t.language[t.languageNum].val!=e.val?(Object(s["q"])(),Object(s["e"])("li",{key:n,onClick:function(e){return t.platform(n)}},Object(s["B"])(e.val),9,["onClick"])):Object(s["f"])("",!0)],64)})),256))])]})),reference:u((function(){return[Object(s["h"])("div",j,"< "+Object(s["B"])(t.language[t.languageNum].val)+" >",1)]})),_:1})]),w,Object(s["h"])("div",k,[Object(s["h"])(E,{value:t.login.uname,"onUpdate:value":e[2]||(e[2]=function(e){return t.login.uname=e}),placeholder:"用户名/手机/邮箱"},null,8,["value"])]),Object(s["h"])("div",_,[Object(s["h"])(E,{value:t.login.passwd,"onUpdate:value":e[3]||(e[3]=function(e){return t.login.passwd=e}),type:"password",placeholder:"密码"},null,8,["value"])]),Object(s["h"])("div",x,[Object(s["h"])(c,{onClick:e[4]||(e[4]=function(e){return t.loginSub()}),disabled:t.login.dis},{default:u((function(){return[Object(s["g"])(Object(s["B"])(t.login.subText),1)]})),_:1},8,["disabled"])])]),Object(s["h"])("div",C,"© "+Object(s["B"])(t.store.system.copy)+"  版本："+Object(s["B"])(t.env.version),1)])],4),[[s["D"],!1===t.store.isLogin]]),Object(s["G"])(Object(s["h"])("div",{class:"app_body flex",style:{paddingTop:t.store.statusBarHeight}},[Object(s["h"])("div",I,[Object(s["h"])(T,{upperLoad:!1,lowerLoad:!1,style:{height:"100%"}},{default:u((function(){return[Object(s["h"])("div",S,[Object(s["h"])("div",B,[t.store.uInfo.img?(Object(s["q"])(),Object(s["e"])("div",{key:0,class:"bgImg",style:{backgroundImage:"url("+t.store.uInfo.img+")"}},null,4)):(Object(s["q"])(),Object(s["e"])("div",F))]),Object(s["h"])("div",A,Object(s["B"])(t.store.uInfo.nickname||"昵称")+"("+Object(s["B"])(t.store.uInfo.name||"姓名")+") ",1)]),Object(s["h"])(M,{ref:"Menus",data:t.menus,defaultActive:t.menusActive,onSelect:t.menuClick},null,8,["data","defaultActive","onSelect"]),Object(s["h"])("div",P,[Object(s["h"])("span",$,Object(s["B"])(t.store.uInfo.uname),1),U,Object(s["h"])("span",{class:"logout",onClick:e[5]||(e[5]=function(e){return t.logout()})},"退出")])]})),_:1})]),Object(s["h"])("div",H,[Object(s["h"])(T,{class:"app_top",upperLoad:!1,lowerLoad:!1,"scroll-x":!0},{default:u((function(){return[Object(s["h"])(q,{url:t.store.action.url,menus:t.store.action.menus},null,8,["url","menus"])]})),_:1}),Object(s["h"])("div",N,[Object(s["h"])(D,null,{default:u((function(t){var e=t.Component;return[(Object(s["q"])(),Object(s["e"])(s["b"],null,[(Object(s["q"])(),Object(s["e"])(Object(s["z"])(e)))],1024))]})),_:1})]),Object(s["h"])("div",L," 所属："+Object(s["B"])(t.store.system.title)+"  © "+Object(s["B"])(t.store.system.copy)+"  版本："+Object(s["B"])(t.env.version),1)])],4),[[s["D"],!0===t.store.isLogin]])])})),M=(n("b680"),n("ac1f"),n("5319"),n("8c89")),T=n("e563"),q=n("775b"),D=n("8a2a"),z=function(t,e){t.$router.goBack(-e)},J=function(t){document.addEventListener("plusready",t,!1)},W=function(t){try{var e=plus.webview.currentWebview();plus.key.addEventListener("backbutton",(function(){e.canBack(t)}))}catch(n){return Object(T["a"])("Android返回键")}},V=function t(e,n){try{plus.geolocation.getCurrentPosition((function(t){var n={longitude:t.coords.longitude,latitude:t.coords.latitude,province:t.address.province,city:t.address.city,district:t.address.district,street:t.address.street,streetnum:t.address.streetNum,poiname:t.address.poiName,address:t.address.poiName+t.address.streetNum};q["a"].setItem("geolocation",JSON.stringify(n)),e(n)}),n)}catch(s){try{AMap.service("AMap.Geolocation",(function(){var t=new AMap.Geolocation({enableHighAccuracy:!1,timeout:5e3});t.getCurrentPosition((function(t,n){if(n&&n.position){var s={longitude:n.position.lng,latitude:n.position.lat,province:n.addressComponent.province,city:n.addressComponent.city,district:n.addressComponent.district,street:n.addressComponent.street,streetnum:n.addressComponent.streetNumber,poiname:n.addressComponent.township,address:n.addressComponent.township+n.addressComponent.streetNumber};q["a"].setItem("geolocation",JSON.stringify(s)),e(s)}}))}))}catch(s){setTimeout((function(){t(e,n)}),3e3)}}},G=V,X=function(t,e,n){Inc.config.msg.browser&&window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission((function(n){new Notification(t,{body:e})}));var s="title"==Inc.config.msg.content?t:e;if(Object(T["a"])(s),n=n||!1,n){var i=Inc.storage.getItem("token")||"";if(!i)return Object(T["a"])("请先登录!");Object(D["a"])("Usermain/baiduAudio",{token:i,text:s},(function(t){var e=t.data;if(0!=e.code)return Object(T["a"])(e.msg);var n=new Audio;n.src=e.url;try{if("iOS"==plus.os.name){var i=plus.ios.importClass("AVAudioSession"),o=i.sharedInstance();o.setCategoryerror("AVAudioSessionCategoryPlayback",null),o.setActiveerror("YES",null);var a=plus.ios.importClass("AVSpeechSynthesizer"),r=plus.ios.importClass("AVSpeechUtterance"),c=plus.ios.import("AVSpeechSynthesisVoice"),l=new a,u=c.voiceWithLanguage("zh-CN"),d=r.speechUtteranceWithString(s);d.setVoice(u),l.speakUtterance(d)}else n.play()}catch(p){n.play()}}))}},Y={self:null,store:null,msgRouter:function(t){"group"==t.type?this.msgGroup(t):"msg"==t.type?this.msg(t):"notify"==t.type&&this.msgNotify(t)},msg:function(t){var e=q["a"].getItem("voice");X(t.data.title,t.data.content,!!e)},start:function(t){var e=this;this.self=t,this.store=this.self.$store.state,clearInterval(this.socketInterval),this.socketInterval=setInterval((function(){!e.store.isLogin||e.store.socket&&1==e.store.socket.readyState||e.start(t)}),M["a"].socket.time);var n=q["a"].getItem("token");if(!n)return!1;M["a"].socket.start&&this.socket(n)},socket:function(t){var e=this;this.store.socket=new WebSocket(M["a"].socket.server+"?token="+t),this.store.socket.onopen=function(){console.log("Socket开启"),clearInterval(e.heartbeat),e.heartbeat=setInterval((function(){try{e.store.socket.send(JSON.stringify({type:""}))}catch(t){e._closeMsg()}}),1e4)},this.store.socket.onclose=function(){console.log("Socket关闭"),e._closeMsg()},this.store.socket.onmessage=function(t){var n=JSON.parse(t.data);if(0!=n.code)return Object(T["a"])(n.msg);e.msgRouter(n)}},_closeMsg:function(){this.store.socket&&(this.store.socket.close(),this.store.socket=null)}},Z={self:null,init:function(t){var e=this;this.self=t,J((function(){plus.screen.lockOrientation("portrait-primary"),plus.navigator.setStatusBarStyle("dark"),plus.navigator.setStatusBarBackground("#FFFFFF"),e.self.$store.state.statusBarHeight=plus.navigator.getStatusbarHeight(),setTimeout((function(){plus.navigator.closeSplashscreen()}),300),document.addEventListener("uistylechange",(function(){e.self.$store.state.mode=plus.navigator.getUiStyle()}),!1);var t=0;W((function(n){n.canBack?(e.self.$store.state.scan&&e.self.$store.state.scan.close(),z(e.self,1)):(t>0&&plus.runtime.quit(),Object(T["a"])("再按一次退出应用!"),t++,setTimeout((function(){t=0}),2e3))}))})),M["a"].login.start&&(this.tokenState(1),clearInterval(this.tokenInterval),this.tokenInterval=setInterval((function(){e.tokenState(0)}),M["a"].login.time)),M["a"].amap.start&&this.geoLocation(),M["a"].socket.start&&Y.start(this.self),this.getConfig()},tokenState:function(t){var e=this,n=q["a"].getItem("token");n?Object(D["a"])(M["a"].login.api,{token:n,uinfo:t},(function(t){var n=t.data;0==n.code?(e.self.$store.state.isLogin=!0,n[M["a"].login.uinfo]&&(e.self.$store.state.uInfo=n[M["a"].login.uinfo])):(e.self.$store.state.isLogin=!1,e.self.$store.state.uInfo={},q["a"].setItem("token",""))})):(this.self.$store.state.isLogin=!1,q["a"].setItem("token",""))},geoLocation:function(){var t=this;setTimeout((function(){G((function(e){t.self.$store.state.geolocation=e,q["a"].setItem("city",e.district)}),(function(t){Object(T["a"])("获取定位失败!")}))}),1e3)},getConfig:function(){var t=this;Object(D["a"])("index/getConfig",{},(function(e){var n=e.data;0==n.code&&(t.self.$store.state.system=n.list)}),(function(t){Object(T["a"])("网络加载失败!")}))}},R=n("919a"),Q=(n("1276"),function(t,e){if(t==e)return!0;var n=t.split("."),s=e.split(".");return parseInt(n[0])>parseInt(s[0])||(parseInt(n[1])>parseInt(s[1])||parseInt(n[2])>parseInt(s[2]))}),K=n("5f06"),tt=Object(s["H"])("data-v-5cfab680");Object(s["t"])("data-v-5cfab680");var et={class:"wm-scroll_html"},nt={class:"wm-scroll_load"};Object(s["r"])();var st=tt((function(t,e,n,i,o,a){return Object(s["q"])(),Object(s["e"])("div",et,[Object(s["G"])(Object(s["h"])("div",{ref:"upper",class:"wm-scroll_load_body",style:{backgroundColor:n.upperBg}},[Object(s["h"])("div",nt,[Object(s["h"])("i",{class:n.upperIcon,style:{color:n.upperColor}},null,6)])],4),[[s["D"],n.upperLoad]]),Object(s["h"])("div",{ref:"html",class:["wm-scroll_view",n.scrollX?o.isMobile?"wm-scroll_view_x":"wm-scroll_view_y":o.isMobile?"":"wm-scroll_view_y"],onTouchstart:e[1]||(e[1]=function(){return a.start.apply(a,arguments)}),onTouchmove:e[2]||(e[2]=function(){return a.move.apply(a,arguments)}),onTouchend:e[3]||(e[3]=function(){return a.end.apply(a,arguments)})},[Object(s["x"])(t.$slots,"default")],34)])})),it=(n("a9e3"),n("466d"),function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return!!t&&t[0]}),ot={name:"ScrollView",props:{isScroll:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},upper:{type:Number,default:64},lowerBoundary:{type:Number,default:50},upperLoad:{type:Boolean,default:!0},upperIcon:{type:String,default:"ui ui_loading"},upperBg:{type:String,default:""},upperColor:{type:String,default:""},limit:{type:Number,default:120}},data:function(){return{isMobile:!0,sp:"y",html:{w:0,h:0},body:{w:0,h:0,x:0,y:0},refUpper:{},refHtml:{},cubicBezier:"0.25,0.46,0.45,0.94"}},mounted:function(){this.isMobile=it(),this.sp=this.scrollX?"x":"y",this.refUpper=this.$refs.upper,this.refHtml=this.$refs.html,"x"==this.sp?(this.refUpper.style.left=0,this.refUpper.style.width="".concat(this.upper,"px"),this.refUpper.style.height="100%",this.refUpper.style.transform="translate(-".concat(this.upper,"px,0)"),this.refHtml.style.overflowX="auto"):(this.refUpper.style.top=0,this.refUpper.style.width="100%",this.refUpper.style.height="".concat(this.upper,"px"),this.refUpper.style.transform="translate(0,-".concat(this.upper,"px)"),this.refHtml.style.overflowY="auto"),this.refHtml.addEventListener("scroll",this.scroll)},methods:{res:function(){return{x:this.body.x,y:this.body.y,w:this.body.w,h:this.body.h,boxW:this.html.w,boxH:this.html.h}},refresh:function(){this.html.w=this.refHtml.offsetWidth,this.html.h=this.refHtml.offsetHeight,this.body.w=this.refHtml.scrollWidth,this.body.h=this.refHtml.scrollHeight,this.body.min=0,this.body.max=this.body["x"==this.sp?"w":"h"]-this.html["x"==this.sp?"w":"h"]-this.lowerBoundary},start:function(t){var e=t.touches?t.touches[0]:t;this.movePage={x:0,y:0},this.tmpPage={x:0,y:0},this.startPage={x:e.clientX,y:e.clientY},this.isUpper=!1,this.isLower=!0,this.refresh(),this.scrollEnabled("auto")},move:function(t){if(!this.isScroll)return!1;var e=t.touches?t.touches[0]:t;if(this.movePage={x:parseInt(e.clientX-this.startPage.x),y:parseInt(e.clientY-this.startPage.y)},this.tmpPage[this.sp]=this.movePage[this.sp],this.body[this.sp]<=0&&this.tmpPage[this.sp]>0){this.isUpper=!0,this.isMobile&&this.scrollEnabled("hidden");var n=this.upper-this.tmpPage[this.sp];n<0&&(this.tmpPage[this.sp]=this.upper),this.tmpPage[this.sp]!=this.tmpUpper&&(this.tmpUpper=this.tmpPage[this.sp],this._translateUpper(n>0?n:0,200),this.translate(this.tmpPage[this.sp],200),"x"==this.sp?(this.body.x=-this.tmpPage[this.sp],this.body.y=0,this.$emit("scroll",this.res())):(this.body.x=0,this.body.y=-this.tmpPage[this.sp],this.$emit("scroll",this.res())))}else this.body[this.sp]>0&&this.tmpPage[this.sp]<0&&this.body[this.sp]>=this.body.max&&this.isLower&&(this.isLower=!1,this.$emit("x"==this.sp?"right":"up",this.res()))},end:function(t){this.isUpper&&(this.isUpper=!1,this._translateUpper(this.upper,400),this.translate(0,400),this.scrollEnabled("auto"),"x"==this.sp?(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("left",this.res())):(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("down",this.res())));var e=Math.abs(this.movePage.x/this.movePage.y)||0;e>1&&this.movePage.x>this.limit?this.$emit("swipe","left"):e>1&&this.movePage.x<-this.limit?this.$emit("swipe","right"):e<1&&this.movePage.y>this.limit?this.$emit("swipe","down"):e<1&&this.movePage.y<-this.limit&&this.$emit("swipe","up")},scroll:function(){this.body.x=this.refHtml.scrollLeft,this.body.y=this.refHtml.scrollTop,this.$emit("scroll",this.res()),this.isLower&&this.tmpPage[this.sp]<0&&this.body[this.sp]>=this.body.max&&(this.isLower=!1,this.$emit("x"==this.sp?"right":"up",this.res()))},translate:function(t,e){this.refHtml.style.transitionDuration="".concat(e,"ms"),this.refHtml.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refHtml.style.paddingLeft="".concat(t,"px"):this.refHtml.style.paddingTop="".concat(t,"px")},_translateUpper:function(t,e){this.refUpper.style.opacity=(100-t/this.upper*100)/100,this.refUpper.style.transitionDuration="".concat(e,"ms"),this.refUpper.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refUpper.style.transform="translate(-".concat(t,"px,0)"):this.refUpper.style.transform="translate(0,-".concat(t,"px)")},scrollEnabled:function(t){t=t||"auto","x"==this.sp?this.refHtml.style.overflowX=t:this.refHtml.style.overflowY=t}}};n("d14f");ot.render=st,ot.__scopeId="data-v-5cfab680";var at=ot,rt=Object(s["H"])("data-v-2fb29e1d");Object(s["t"])("data-v-2fb29e1d");var ct={class:"wm-menu"},lt={class:"flex"},ut=Object(s["h"])("i",{class:"ui ui_down"},null,-1);Object(s["r"])();var dt=rt((function(t,e,n,i,o,a){return Object(s["q"])(),Object(s["e"])("div",ct,[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["w"])(n.data,(function(t,e){return Object(s["q"])(),Object(s["e"])("div",{key:e,style:{color:n.fontColor}},[Object(s["h"])("div",{class:"wm-menu_title flex",onClick:function(t){return a.titleClick(e)},style:{height:n.titleHeight+"px",lineHeight:n.titleHeight+"px"}},[Object(s["h"])("div",lt,[t.ico?(Object(s["q"])(),Object(s["e"])("i",{key:0,class:t.ico},null,2)):Object(s["f"])("",!0),Object(s["h"])("h1",null,Object(s["B"])(t.title),1)]),Object(s["h"])("div",{id:"ico"+e,class:"arrow"},[ut],8,["id"])],12,["onClick"]),t.children?(Object(s["q"])(),Object(s["e"])("ul",{key:0,id:"t"+e,class:"wm-menu_list"},[(Object(s["q"])(!0),Object(s["e"])(s["a"],null,Object(s["w"])(t.children,(function(t,i){return Object(s["q"])(),Object(s["e"])("li",{key:i,onClick:function(t){return a.menuClick([e,i])},class:t.checked?"active":"",style:{height:n.itemHeight+"px",lineHeight:n.itemHeight+"px"}},Object(s["B"])(t.title),15,["onClick"])})),128))],8,["id"])):Object(s["f"])("",!0)],4)})),128))])})),pt={name:"Menu",props:{data:{type:Array,default:[]},defaultActive:{type:Array,default:[0,0]},fontColor:{type:String,default:"#FFF"},titleHeight:{type:Number,default:40},itemHeight:{type:Number,default:36}},methods:{titleClick:function(t){if(!this.data[t])return!1;var e=this.data[t].children.length||0,n=document.getElementById("ico"+t),s=document.getElementById("t"+t),i=36*e+"px";s.style.height==i?(n.style.transform="rotate(0deg)",s.style.height="0px"):(n.style.transform="rotate(180deg)",s.style.height=i)},menuClick:function(t){for(var e in this.data)for(var n in this.data[e].children)this.data[e].children[n].checked=!1;this.data[t[0]]&&this.data[t[0]].children&&(this.data[t[0]].children[t[1]].checked=!0,this.$emit("select",t))}}};n("77c9");pt.render=dt,pt.__scopeId="data-v-2fb29e1d";var ht=pt,ft=n("edb5"),bt=n("903b"),mt=Object(s["H"])("data-v-5b3577c2");Object(s["t"])("data-v-5b3577c2");var gt={class:"wm-action"},vt={class:"wm-action_title"};Object(s["r"])();var yt=mt((function(t,e,n,i,o,a){return Object(s["q"])(),Object(s["e"])("div",gt,[o.action.length>0?(Object(s["q"])(!0),Object(s["e"])(s["a"],{key:0},Object(s["w"])(o.action,(function(t,e){return Object(s["q"])(),Object(s["e"])("div",{class:"item",key:e,onClick:function(e){return a.openAction(t.action)}},Object(s["B"])(t.name),9,["onClick"])})),128)):Object(s["f"])("",!0),Object(s["h"])("div",vt,Object(s["B"])(o.store.menuName||o.store.system.title),1)])})),Ot={name:"Action",props:{url:{type:String,default:""},menus:""},data:function(){return{store:this.$store.state,action:[]}},watch:{url:function(t){this.getAction(this.url)}},mounted:function(){},methods:{getAction:function(t){var e=this;if(this.action=[],!t||!q["a"].getItem("token"))return this.store.menuName="";Object(D["a"])("Sysmenusaction/getAction",{token:q["a"].getItem("token"),url:t},(function(t){var n=t.data;if(0==n.code){if(e.action=n.action,e.menus)for(var s in e.menus)e.action.push(e.menus[s])}else Object(T["a"])(n.msg)}))},openAction:function(t){var e=this;this.store.action.type=t,setTimeout((function(){e.store.action.type=""}),1e3)}}};n("6c4a");Ot.render=yt,Ot.__scopeId="data-v-5b3577c2";var jt=Ot,wt=n("d4cf"),kt={name:"APP",components:{ScrollView:at,wmMenu:ht,wmInput:ft["a"],wmButton:bt["a"],wmAction:jt,wmPopover:wt["a"]},data:function(){return{env:M["a"],storage:q["a"],store:this.$store.state,update:{show:!1,os:"",down:!1,loading:"1%",msg:"检测更新",file:"",total:0},upDateColor:M["a"].update,login:{uname:"",passwd:"",subText:"登 录",dis:!1},menus:[],menusActive:[0,0],config:{show:!1,title:"系统配置",is_msg_audio:!0},languageNum:0,language:[{name:"php",val:"PHP7( Phalcon4 )"},{name:"python",val:"Python3( Flask )"},{name:"java",val:"Java( SpringBoot )"}]}},mounted:function(){Z.init(this),M["a"].update.start&&this.isUpdate(),this.login.uname=q["a"].getItem("uname"),this.reLanguage(),this._enter(),q["a"].getItem("token")&&this.getMenus()},methods:{platform:function(t){var e=this.language[t];e.index=t,q["a"].setItem("platform",JSON.stringify(e)),window.location.href=""},reLanguage:function(){var t=q["a"].getItem("platform"),e=t?JSON.parse(t):this.language[0];this.languageNum=e.index||0},isUpdate:function(){var t=this;J((function(){t.update.os=plus.os.name,Object(D["a"])("index/appUpdate",{os:t.update.os},(function(e){var n=e.data;if(0!=n.code)return!1;plus.runtime.getProperty(plus.runtime.appid,(function(e){if(Q(e.version,n.version))return!1;t.update.show=!0,t.update.down=!0,t.update.msg="新版本: "+n.version+"&nbsp;&nbsp;大小: "+(n.size/1024/1024).toFixed(2)+"MB",t.update.file=M["a"].baseUrl+n.file,t.update.total=n.size}))}))}))},updateDown:function(){var t=this;if(this.update.down=!1,this.update.msg="开始下载",this.update.loading="0%","iOS"==this.update.os)this.update.msg="请在桌面查看安装进度",window.open(M["a"].upIosUrl),setTimeout((function(){plus.runtime.quit()}),5e3);else{var e=plus.downloader.createDownload(this.update.file,{filename:"_doc/download/",timeout:30},(function(e,n){200==n?plus.runtime.install(e.filename,{force:!0},(function(){plus.runtime.restart()}),(function(t){Object(T["a"])("安装失败!")})):(t.update.down=!0,t.update.msg="下载失败")}));e.start(),e.addEventListener("statechanged",(function(e,n){var s=parseInt(e.downloadedSize/t.update.total*100);t.update.loading=s+"%",t.update.msg="正在下载："+t.update.loading,s>=100&&(t.update.msg="下载完成，安装并重启")}))}},loginSub:function(){var t=this,e=this.login.uname,n=this.login.passwd,s=Object(K["a"])("passwd",n);if(!0!==Object(K["a"])("uname",e)&&!0!==Object(K["a"])("email",e)&&!0!==Object(K["a"])("tel",e))return Object(T["a"])("请输入帐号/手机/邮箱");if(!0!==s)return Object(T["a"])(s);this.login.subText="正在登录",this.login.dis=!0;var i=Object(R["a"])();Object(D["a"])("user/login",{uname:e,passwd:n},(function(e){i.clear(),t.login.subText="登 录",t.login.dis=!1;var n=e.data;0==n.code?(t.store.isLogin=!0,t.store.uInfo=n.uinfo,q["a"].setItem("token",n.token),q["a"].setItem("uname",n.uinfo.uname),q["a"].setItem("uinfo",JSON.stringify(n.uinfo)),t.getMenus(),t.$router.replace({path:"/refresh"})):(t.store.isLogin=!1,t.store.uInfo={},q["a"].setItem("token",""),Object(T["a"])(n.msg))}),(function(e){i.clear(),Object(T["a"])("网络加载失败!"),t.login.subText="登 录",t.login.dis=!1}))},logout:function(){this.store.isLogin=!1,this.store.uInfo={},q["a"].setItem("token",""),this.login.passwd=""},_enter:function(){var t=arguments,e=this;document.onkeydown=function(n){var s=n||window.event||t.callee.caller.arguments[0];s&&13==s.keyCode&&!e.store.isLogin&&e.loginSub()}},getMenus:function(){var t=this;Object(D["a"])("Sysmenus/getMenus",{token:q["a"].getItem("token")},(function(e){var n=e.data;if(0==n.code){t.menus=n.menus,t.menusActive=q["a"].getItem("menusActive")?JSON.parse(q["a"].getItem("menusActive")):[0,1];var s=t.$refs.Menus;setTimeout((function(){s.titleClick(t.menusActive[0]),s.menuClick(t.menusActive)}),300)}}))},menuClick:function(t){q["a"].setItem("menusActive",JSON.stringify(t));var e=this.menus[t[0]].children[t[1]];this.store.menuName="控制台"==e.title?"":e.title,this.$router.push(e.url)}}};n("64be"),n("f65b");kt.render=E,kt.__scopeId="data-v-0cb072e5";var _t=kt;document.title=M["a"].title,Object(s["d"])(_t).use(l).use(r).mount("#app"),document.body.ontouchstart=function(){try{"iOS"!=plus.os.name&&document.createElement("audio")}catch(t){document.createElement("audio")}}},"5b33":function(t,e,n){"use strict";n("edf3")},"5f06":function(t,e,n){"use strict";var s=n("e563");e["a"]=function(t,e,n){n=n||!1;var i=!1,o="",a={uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{4,15}$/,tel:/^[1]\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,vcode:/^\d{4}$/,passwd:/^[a-zA-Z0-9|_|@|-|*|&]{6,16}$/};switch(t){case"uname":i=a.uname.test(e),o=i?"":"用户名英文开头5~16位！";break;case"tel":i=a.tel.test(e),o=i?"":"手机号码错误！";break;case"email":i=a.email.test(e),o=i?"":"邮箱帐号错误！";break;case"vcode":i=a.vcode.test(e),o=i?"":"验证码4位！";break;case"passwd":i=a.passwd.test(e),o=i?"":"密码为6~16位字符！";break}return o&&n&&Object(s["a"])(o),!!i||o}},"602e":function(t,e,n){},"64be":function(t,e,n){"use strict";n("c894")},"6c4a":function(t,e,n){"use strict";n("8b9b")},"775b":function(t,e,n){"use strict";e["a"]={setItem:function(t,e){return window.localStorage.setItem(t,e)},getItem:function(t){return window.localStorage.getItem(t)},clear:function(){return window.localStorage.clear()}}},"77c9":function(t,e,n){"use strict";n("0c8e")},"86d5":function(t,e,n){t.exports=n.p+"img/bg.197fc15f.jpg"},"8a2a":function(t,e,n){"use strict";var s=n("8c89"),i=n("bc3a"),o=n.n(i);e["a"]=function(t,e,n,i,a){var r=t.substr(0,4);t="http"==r?t:s["a"].apiUrl+t;var c=new FormData;for(var l in e)c.append(l,e[l]);var u=s["a"].request;for(var d in a=a||{},u)a[d]=u[d];o.a.post(t,c,a).then(n).catch(i)}},"8b9b":function(t,e,n){},"8c89":function(t,e,n){"use strict";n("b0c0");var s,i,o=n("775b"),a="WebMIS-后台框架",r=JSON.parse(o["a"].getItem("platform"));r&&"python"==r.name?(s="https://demo-python.webmis.vip/",i="wss://demo-python.webmis.vip/wss"):r&&"java"==r.name?(s="https://demo-java.webmis.vip/",i="wss://demo-java.webmis.vip/wss"):(s="https://demo-api.webmis.vip/",i="wss://demo-api.webmis.vip/wss"),e["a"]={dev:!1,title:a,version:"1.0.0",baseUrl:s,apiUrl:s+"admin/",copy:"Copyright © WebMIS.vip 2020",request:{headers:{"Content-Type":"application/x-www-form-urlencoded"}},statusBar:{height:"0px",color:"#333",bgColor:"#FFF"},update:{start:!0,bg:"#24292E",logoBg:"#FFFFFF",loading:"#6FB737",loaded:"#000000",copy:"#666666",msgColor:"#999999",butColor:"#FFFFFF",butBg:"#6FB737",butText:"下载并安装"},upIosUrl:"",login:{start:!0,api:"user/token",uinfo:"uinfo",time:6e4},amap:{start:!1,jsapi_key:"d956f0c3e15489a1b5bf291e5d133c8a"},socket:{start:!1,server:i,time:5e3},msg:{content:"title",browser:!1}}},"903b":function(t,e,n){"use strict";var s=n("7a23"),i=Object(s["H"])("data-v-30b92372"),o=i((function(t,e,n,i,o,a){return Object(s["q"])(),Object(s["e"])("button",{ref:"Button",class:"wm-button",disabled:n.disabled,onMouseover:e[1]||(e[1]=function(t){return a.opacity(.8)}),onMouseout:e[2]||(e[2]=function(t){return a.opacity(1)})},[Object(s["x"])(t.$slots,"default")],40,["disabled"])})),a={name:"Botton",props:{type:{type:String,default:"primary"},size:{type:String,default:"default"},effect:{type:String,default:"dark"},disabled:{type:Boolean,default:!1}},data:function(){return{color:{primary:{plain:["#C2E7B0","#F0F9EB","#6FB737"],dark:["#595","#595","#FFF"]},info:{plain:["#DCDFE6","#F4F6F8","#909399"],dark:["#909399","#909399","#FFF"]},warning:{plain:["#F5DAB1","#FDF6EC","#E6A23C"],dark:["#E6A23C","#E6A23C","#FFF"]},danger:{plain:["#FBC4C4","#FEF0F0","#F56C6C"],dark:["#F56C6C","#F56C6C","#FFF"]}}}},mounted:function(){var t=this.$refs.Button.style,e=this.color[this.type][this.effect];t.borderColor=e[0],t.backgroundColor=e[1],t.color=e[2],"default"==this.size?(t.height="40px",t.lineHeight="40px",t.fontSize="14px",t.padding="0 24px"):"medium"==this.size?(t.height="30px",t.lineHeight="30px",t.fontSize="13px",t.padding="0 16px"):"mini"==this.size&&(t.height="24px",t.lineHeight="24px",t.fontSize="12px",t.padding="0 8px")},methods:{opacity:function(t){var e=this.$refs.Button.style;e.opacity=t}}};n("065b");a.render=o,a.__scopeId="data-v-30b92372";e["a"]=a},"919a":function(t,e,n){"use strict";e["a"]=function(t,e){e=e||.1;var n=document.getElementsByClassName("wm-ui_load")[0];n&&document.body.removeChild(n);var s=document.createElement("div");s.setAttribute("class","wm-ui_load"),s.setAttribute("style","background-color: rgba(0,0,0,".concat(e,")")),s.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(s),t=t||1e4;var i=setTimeout((function(){n=document.getElementsByClassName("wm-ui_load")[0],n&&document.body.removeChild(n)}),t);return{clear:function(){try{document.body.removeChild(s)}catch(t){}clearTimeout(i)}}}},9960:function(t,e,n){},"9b19":function(t,e,n){t.exports=n.p+"img/logo.5f2c810c.svg"},c894:function(t,e,n){},d0a7:function(t,e,n){},d14f:function(t,e,n){"use strict";n("1254")},d4cf:function(t,e,n){"use strict";var s=n("7a23"),i=Object(s["H"])("data-v-e95f5998");Object(s["t"])("data-v-e95f5998");var o={class:"wm-popover"},a={key:0,class:"wm-popover_top_body"},r={class:"wm-popover_top"},c={key:1,class:"wm-popover_bottom_body"},l={class:"wm-popover_bottom"},u={key:2,class:"wm-popover_left_body"},d={class:"wm-popover_left"},p={key:3,class:"wm-popover_right_body"},h={class:"wm-popover_right"};Object(s["r"])();var f=i((function(t,e,n,i,f,b){return Object(s["q"])(),Object(s["e"])("div",o,["top"==n.type?(Object(s["q"])(),Object(s["e"])("div",a,[Object(s["h"])("div",r,[Object(s["h"])("div",{class:["tip","tip_"+n.effect]},[Object(s["h"])("div",{style:{width:n.width}},[Object(s["x"])(t.$slots,"body")],4)],2),Object(s["h"])("div",{class:["arrow","arrow_"+n.effect]},null,2)]),Object(s["x"])(t.$slots,"reference")])):Object(s["f"])("",!0),"bottom"==n.type?(Object(s["q"])(),Object(s["e"])("div",c,[Object(s["x"])(t.$slots,"reference"),Object(s["h"])("div",l,[Object(s["h"])("div",{class:["arrow","arrow_"+n.effect]},null,2),Object(s["h"])("div",{class:["tip","tip_"+n.effect]},[Object(s["h"])("div",{style:{width:n.width}},[Object(s["x"])(t.$slots,"body")],4)],2)])])):Object(s["f"])("",!0),"left"==n.type?(Object(s["q"])(),Object(s["e"])("div",u,[Object(s["h"])("div",d,[Object(s["h"])("div",{class:["arrow","arrow_"+n.effect]},null,2),Object(s["h"])("div",{class:["tip","tip_"+n.effect]},[Object(s["h"])("div",{style:{width:n.width}},[Object(s["x"])(t.$slots,"body")],4)],2)]),Object(s["x"])(t.$slots,"reference")])):Object(s["f"])("",!0),"right"==n.type?(Object(s["q"])(),Object(s["e"])("div",p,[Object(s["x"])(t.$slots,"reference"),Object(s["h"])("div",h,[Object(s["h"])("div",{class:["arrow","arrow_"+n.effect]},null,2),Object(s["h"])("div",{class:["tip","tip_"+n.effect]},[Object(s["h"])("div",{style:{width:n.width}},[Object(s["x"])(t.$slots,"body")],4)],2)])])):Object(s["f"])("",!0)])})),b={name:"Popover",props:{type:{type:String,default:"top"},width:{type:String,default:"160px"},effect:{type:String,default:"plain"}}};n("4d0e");b.render=f,b.__scopeId="data-v-e95f5998";e["a"]=b},e563:function(t,e,n){"use strict";e["a"]=function(t,e){var n=document.createElement("div");n.setAttribute("class","wm-ui_toast"),n.innerHTML="<span>"+t+"</span>",document.body.appendChild(n),setTimeout((function(){n.style.opacity="1",n.style.top="10%"}),100),e=e||3e3,setTimeout((function(){document.body.removeChild(n)}),e)}},edb5:function(t,e,n){"use strict";var s=n("7a23"),i=Object(s["H"])("data-v-3629635c"),o=i((function(t,e,n,i,o,a){return Object(s["q"])(),Object(s["e"])("div",null,[Object(s["h"])("input",{class:"wm-input",value:n.value,onInput:e[1]||(e[1]=function(e){return t.$emit("update:value",e.target.value)}),type:n.type,maxlength:n.maxlength,placeholder:n.placeholder},null,40,["value","type","maxlength","placeholder"])])})),a={name:"Input",props:{value:{type:String,default:""},type:{type:String,default:"text"},maxlength:{type:String,default:""},placeholder:{type:String,default:""}}};n("5b33");a.render=o,a.__scopeId="data-v-3629635c";e["a"]=a},edf3:function(t,e,n){},f65b:function(t,e,n){"use strict";n("602e")}});