(function(t){function e(e){for(var s,a,r=e[0],c=e[1],u=e[2],l=0,d=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},a={app:0},o={app:0},i=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-09499afc":"9d6a2e69","chunk-1ae7b1ba":"9be60a2d","chunk-2a2c4d09":"e18b3a45","chunk-2d0aa7c1":"3eee2628","chunk-2d0abc0c":"7e572b21","chunk-2d0c8672":"ca9f642b","chunk-2d0d9fbf":"ac08d462","chunk-2d217aca":"a431ce03","chunk-2d229a03":"cba5da3f","chunk-2d22fdb0":"525f5c61","chunk-4117cf19":"4d0e18d5","chunk-7cc136f5":"4740df45"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-09499afc":1,"chunk-1ae7b1ba":1,"chunk-2a2c4d09":1,"chunk-4117cf19":1,"chunk-7cc136f5":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-09499afc":"386e0763","chunk-1ae7b1ba":"08d201e6","chunk-2a2c4d09":"56f3e7b5","chunk-2d0aa7c1":"31d6cfe0","chunk-2d0abc0c":"31d6cfe0","chunk-2d0c8672":"31d6cfe0","chunk-2d0d9fbf":"31d6cfe0","chunk-2d217aca":"31d6cfe0","chunk-2d229a03":"31d6cfe0","chunk-2d22fdb0":"31d6cfe0","chunk-4117cf19":"114fb31f","chunk-7cc136f5":"2901b2f4"}[t]+".css",o=c.p+s,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var u=i[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],l=u.getAttribute("data-href");if(l===s||l===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete a[t],p.parentNode.removeChild(p),n(i)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[t]=0})));var s=o[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,n){s=o[t]=[e,n]}));e.push(s[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0169":function(t,e,n){"use strict";n.d(e,"a",(function(){return r["a"]})),n.d(e,"b",(function(){return c["a"]}));var s=n("8c89"),a=n("bc3a"),o=n.n(a),i=function(t,e,n,a,i){var r=t.substr(0,4);t="http"==r?t:s["a"].apiUrl+t;var c=s["a"].request;for(var u in i=i||{},c)i[u]=c[u];o.a.get(t,{params:e},i).then(n).catch(a)},r=n("8a2a"),c=n("775b"),u=function(){return{language:"zh_CN",language_url:"/tinymce/zh_CN.js",skin_url:"/tinymce/skins/ui/oxide",height:550,menubar:!0,branding:!1,toolbar:"undo redo | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | table image media preview | removeformat | help",toolbar_items_size:"small",plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]}},l=n("fbd7"),d=n("919a"),p=n("e563");r["a"],c["a"],l["a"],d["a"],p["a"]},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"4dc7":function(t,e,n){"use strict";e["a"]=function(t){document.addEventListener("plusready",t,!1)}},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=n("8c4f");s["default"].use(a["a"]);var o=[{path:"/",name:"index",component:function(){return n.e("chunk-4117cf19").then(n.bind(null,"d504"))}},{path:"/refresh",name:"Refresh",component:function(t){return n.e("chunk-2d22fdb0").then(function(){var e=[n("ea97")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/UserInfo",name:"UserInfo",component:function(t){return n.e("chunk-1ae7b1ba").then(function(){var e=[n("8f77")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/UserPasswd",name:"UserPasswd",component:function(t){return n.e("chunk-2d0c8672").then(function(){var e=[n("5573")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysUser",name:"SysUser",component:function(t){return n.e("chunk-2d0d9fbf").then(function(){var e=[n("6a53")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysPerm",name:"SysPerm",component:function(t){return n.e("chunk-2d0abc0c").then(function(){var e=[n("172b")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysRole",name:"SysRole",component:function(t){return n.e("chunk-2d0aa7c1").then(function(){var e=[n("10e1")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysConfig",name:"SysConfig",component:function(t){return n.e("chunk-09499afc").then(function(){var e=[n("5f2a")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysMenus",name:"SysMenus",component:function(t){return n.e("chunk-2a2c4d09").then(function(){var e=[n("a6e8")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysMenusAction",name:"SysMenusAction",component:function(t){return n.e("chunk-2d229a03").then(function(){var e=[n("ddf3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/SysFileManage",name:"SysFileManage",component:function(t){return n.e("chunk-7cc136f5").then(function(){var e=[n("52e8")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/Demo",name:"Demo",component:function(t){return n.e("chunk-2d217aca").then(function(){var e=[n("c876")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],i=a["a"].prototype.push;a["a"].prototype.push=function(t){return i.call(this,t).catch((function(t){return t}))};var r=new a["a"]({mode:"history",base:"",routes:o}),c=r,u=n("2f62");s["default"].use(u["a"]);var l=new u["a"].Store({state:{mode:"light",statusBarHeight:0,isLogin:"",uInfo:{},system:{},menus:[],defaultMenu:"3",collapseMenu:!1,action:{url:"",type:"",width:"",menus:""},socket:null,uMsg:{scroll:null,group:[],num:""},uNotify:{},scan:null}}),d=n("5c96"),p=n.n(d),f=(n("8aa1"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.update.show?s("div",{staticClass:"update_body",style:{backgroundColor:t.upDateColor.bg}},[s("div",{staticClass:"update_ct verticalCenter"},[s("div",{staticClass:"logo",style:{backgroundColor:t.upDateColor.logoBg}},[s("div")]),s("div",{staticClass:"loading",style:{backgroundImage:"linear-gradient(to right, "+t.upDateColor.loading+", "+t.upDateColor.loading+" "+t.update.loading+", "+t.upDateColor.loaded+" "+t.update.loading+", "+t.upDateColor.loaded+" 100%)"}}),s("div",{staticClass:"load_msg",domProps:{innerHTML:t._s(t.update.msg)}},[t._v("正在加载应用")]),s("div",{staticClass:"load_button"},[t.update.down?s("button",{staticClass:"Button",style:{color:t.upDateColor.butColor,backgroundColor:t.upDateColor.butBg},on:{click:function(e){return t.updateDown()}}},[t._v(t._s(t.upDateColor.butText))]):t._e()])]),s("div",{staticClass:"update_logo",style:{color:t.upDateColor.copy}},[s("h1",[t._v(t._s(t.$config.title))]),s("h2",[t._v(t._s(t.$config.copy))])])]):t._e(),s("el-container",{directives:[{name:"show",rawName:"v-show",value:!1===t.$store.state.isLogin,expression:"$store.state.isLogin===false"}],staticClass:"login_body bgImg bgcover",style:{backgroundImage:"url("+(t.$store.state.system.login_bg?t.$store.state.system.login_bg:n("86d5"))+")"}},[s("div",{staticClass:"login_ct verticalCenter"},[s("div",{staticClass:"logo flex_center"},[s("div",{staticClass:"bgImg bgTu",style:{backgroundImage:"url("+(t.$store.state.system.logo?t.$store.state.system.logo:n("9b19"))+")"}}),s("h1",{staticClass:"nowrap"},[t._v(t._s(t.$store.state.system.title))])]),s("h2",[t._v("会员登录")]),s("div",{staticClass:"item"},[s("el-input",{attrs:{maxlength:"32",placeholder:"用户名/手机/邮箱"},model:{value:t.login.uname,callback:function(e){t.$set(t.login,"uname",e)},expression:"login.uname"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"icons icon_user"})])],2)],1),s("div",{staticClass:"item"},[s("el-input",{attrs:{type:"password",maxlength:"16",placeholder:"请输入密码"},model:{value:t.login.passwd,callback:function(e){t.$set(t.login,"passwd",e)},expression:"login.passwd"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"icons icon_passwd"})])],2)],1),s("div",{staticClass:"item"},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:t.login.dis},on:{click:function(e){return t.loginSub()}}},[t._v(t._s(t.login.subText))])],1),s("div",{staticClass:"copy nowrap"},[t._v("© "+t._s(t.$store.state.system.copy)+" license  版本："+t._s(t.$config.version))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.$store.state.isLogin,expression:"$store.state.isLogin===true"}],staticClass:"app_body"},[s("div",{ref:"LeftMenus",staticClass:"app_menus",style:{width:t.$store.state.collapseMenu?"64px":"200px",paddingTop:t.$store.state.statusBarHeight}},[s("div",[s("div",{staticClass:"app_img"},[t.$store.state.uInfo.img?s("div",{staticClass:"bgImg",style:{backgroundImage:"url("+t.$store.state.uInfo.img+")"},on:{click:function(e){return t.hideMenus()}}}):s("div",{staticClass:"bgImg tu",on:{click:function(e){return t.hideMenus()}}}),s("div",{staticClass:"info nowrap"},[t._v(t._s(t.$store.state.uInfo.nickname||"昵称")+"("+t._s(t.$store.state.uInfo.name||"姓名")+")")])]),s("el-menu",{attrs:{"default-active":t.$store.state.defaultMenu,collapse:t.$store.state.collapseMenu,"unique-opened":""}},t._l(t.$store.state.menus,(function(e,n){return s("el-submenu",{key:n,attrs:{index:""+e.id}},[s("template",{slot:"title"},[s("i",{staticClass:"icons",class:e.ico}),s("span",[t._v(t._s(e.title))])]),t._l(e.menus,(function(e,n){return s("div",{key:n},[0==e.menus.length?s("el-menu-item",{attrs:{index:""+e.id},on:{click:function(n){return t.openUrl(e.ico,e.url,""+e.id,e.title)}}},[t._v(t._s(e.title))]):s("el-submenu",{attrs:{index:""+e.id}},[s("template",{slot:"title"},[s("span",[t._v(t._s(e.title))])]),t._l(e.menus,(function(e,n){return s("el-menu-item",{key:n,attrs:{index:""+e.id},on:{click:function(n){return t.openUrl(e.ico,e.url,""+e.id,e.title)}}},[t._v(t._s(e.title))])}))],2)],1)}))],2)})),1),s("div",{staticClass:"app_user nowrap"},[s("span",{staticClass:"config",on:{click:function(e){return t.openConfig()}}},[t._v("设置")]),t._v("\n            |  \n          "),s("span",{staticClass:"logout",on:{click:function(e){return t.logout()}}},[t._v("退出")])])],1)]),s("div",{staticClass:"app_ct",style:{marginLeft:t.$store.state.collapseMenu?"65px":"201px",paddingTop:t.$store.state.statusBarHeight}},[s("div",{staticClass:"app_top"},[s("div",{ref:"TopAction"},[s("div",{staticClass:"app_action",style:{minWidth:t.$store.state.action.width}},[t.$store.state.action.url?s("Action",{attrs:{url:t.$store.state.action.url,menus:t.$store.state.action.menus}}):s("div",{staticClass:"name"},[t._v(t._s(t.storage.getItem("MenuName")||t.$store.state.system.title)+" "),s("i",{staticClass:"el-icon-arrow-right"})])],1)])]),s("div",{staticClass:"app_main"},[s("router-view"),s("div",{staticClass:"app_copy"},[t._v("所属："+t._s(t.$store.state.system.title)+"  © "+t._s(t.$store.state.system.copy)+"  版本："+t._s(t.$config.version))])],1)])]),s("el-dialog",{attrs:{title:t.config.title,visible:t.config.show,center:"",width:"360px"},on:{"update:visible":function(e){return t.$set(t.config,"show",e)}}},[s("el-form",{attrs:{"label-width":"120px"}},[s("el-form-item",{attrs:{label:"消息朗读"}},[s("el-switch",{on:{change:function(e){return t.subConfig("is_msg_audio")}},model:{value:t.config.is_msg_audio,callback:function(e){t.$set(t.config,"is_msg_audio",e)},expression:"config.is_msg_audio"}})],1)],1)],1),!0===t.$store.state.isLogin?s("ul",{staticClass:"right_menu"},[s("li",{on:{click:function(e){return t.openMsg()}}},[s("i",{staticClass:"ui ui_msg"}),s("span",{staticClass:"redNum"},[t._v("0")])])]):t._e(),s("popup",{model:{value:t.msg.show,callback:function(e){t.$set(t.msg,"show",e)},expression:"msg.show"}},[s("div",[t._v("消息")])])],1)}),m=[],h=(n("20d6"),n("a481"),n("7f7f"),n("8c89")),g=n("e563"),v=n("775b"),b=n("bca5"),y={self:null,msgRouter:function(t){"group"==t.type?this.msgGroup(t):"msg"==t.type?this.msg(t):"notify"==t.type&&this.msgNotify(t)},msgGroup:function(t){this.self.$store.state.uMsg.group=t.data;var e=this.self.$store.state.uMsg.group,n=0;for(var s in e)n+=e[s].num;this.self.$store.state.uMsg.num=n},msg:function(t){var e=v["a"].getItem("voice");Object(b["a"])(t.data.title,t.data.content,!!e);var n=t.data.uid==this.self.$store.state.uInfo.uid?t.data.fid:t.data.uid;this.self.$store.state.uMsg.group[""+n]?(this.self.$store.state.uMsg.group[""+n].msg.push(t.data),this.self.$store.state.uMsg.group[""+n].num++,this.self.$store.state.uMsg.num++):this.self.$store.state.socket.send(JSON.stringify({type:"group"}))},msgNotify:function(t){console.log(t)},start:function(t){var e=this;this.self=t,clearInterval(this.msgInterval),this.msgInterval=setInterval((function(){!e.self.$store.state.isLogin||e.self.$store.state.socket&&1==e.self.$store.state.socket.readyState||e.start(t)}),3e3);var n=v["a"].getItem("token");if(!n)return!1;h["a"].socket.start&&this.socket(n)},socket:function(t){var e=this;this.self.$store.state.socket=new WebSocket(h["a"].socket.server+"?token="+t),this.self.$store.state.socket.onopen=function(){console.log("Socket开启"),clearInterval(e.heartbeat),e.heartbeat=setInterval((function(){try{e.self.$store.state.socket.send(JSON.stringify({type:""}))}catch(t){e._closeMsg()}}),1e4),setTimeout((function(){e.self.$store.state.socket.send(JSON.stringify({type:"group"}))}),1e3)},this.self.$store.state.socket.onclose=function(){console.log("Socket关闭"),e._closeMsg()},this.self.$store.state.socket.onmessage=function(t){var n=JSON.parse(t.data);if(0!=n.code)return Object(g["a"])(n.msg);e.msgRouter(n)}},_closeMsg:function(){this.self.$store.state.socket&&(this.self.$store.state.socket.close(),this.self.$store.state.socket=null,this.self.$store.state.uMsg.group=[],this.self.$store.state.uMsg.num="")}},k=n("8a2a"),w=n("fbd7"),_=n("4dc7"),C={self:null,init:function(t){var e=this;this.self=t,Object(_["a"])((function(){plus.screen.lockOrientation("portrait-primary"),plus.navigator.setStatusBarStyle("dark"),plus.navigator.setStatusBarBackground("#FFFFFF"),e.self.$store.state.statusBarHeight=plus.navigator.getStatusbarHeight(),setTimeout((function(){plus.navigator.closeSplashscreen()}),300),document.addEventListener("uistylechange",(function(){e.self.$store.state.mode=plus.navigator.getUiStyle()}),!1);var t=0,n=plus.webview.currentWebview();plus.key.addEventListener("backbutton",(function(){n.canBack((function(n){n.canBack?(e.self.$store.state.scan&&e.self.$store.state.scan.close(),Object(w["a"])(e.self,1)):(t>0&&plus.runtime.quit(),Object(g["a"])("再按一次退出应用!"),t++,setTimeout((function(){t=0}),2e3))}))}))})),this.tokenState(1),clearInterval(this.tokenInterval),this.tokenInterval=setInterval((function(){e.tokenState(0)}),1e4),y.start(this.self),this.getConfig()},tokenState:function(t){var e=this,n=v["a"].getItem("token");n?Object(k["a"])("user/token",{token:n,uinfo:t},(function(t){var n=t.data;0==n.code?(e.self.$store.state.isLogin=!0,n.uinfo&&(e.self.$store.state.uInfo=n.uinfo)):(e.self.$store.state.isLogin=!1,e.self.$store.state.uInfo={},v["a"].setItem("token",""))})):(this.self.$store.state.isLogin=!1,v["a"].setItem("token",""))},getConfig:function(){var t=this;Object(k["a"])("index/getConfig",{},(function(e){var n=e.data;0==n.code&&(t.self.$store.state.system=n.list)}))}},$=n("919a"),I=(n("28a5"),function(t,e){var n=t.split("."),s=e.split(".");return parseInt(n[0])<parseInt(s[0])||(parseInt(n[1])<parseInt(s[1])||parseInt(n[2])<parseInt(s[2]))}),S=n("5f06"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[n("div",{ref:"PopupBG",staticClass:"wm-popup_bg",style:{backgroundColor:"rgba(0,0,0,"+t.opacity+")"},on:{click:function(e){return t.clickBG()}}}),n("div",{ref:"PopupBody",staticClass:"wm-popup_body",style:{backgroundColor:t.bgColor}},[t._t("default")],2)])},O=[],x=(n("c5f6"),{name:"PopUp",model:{prop:"show",event:"show"},props:{show:{type:Boolean,default:!1},opacity:{type:Number,default:.7},bgClose:{type:Boolean,default:!0},position:{type:String,default:""},bgColor:{type:String,default:""}},data:function(){return{}},watch:{show:function(t){t&&this.showBG(!0)}},mounted:function(){var t=this.$refs.PopupBody||"";"left"==this.position?(t.style.height="110%",t.style.left=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(-110%,0)"):"right"==this.position?(t.style.height="100%",t.style.right=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(110%,0)"):"top"==this.position?(t.style.width="100%",t.style.left=0,t.style.top=0,t.style.opacity=1,t.style.transform="translate(0,-110%)"):"bottom"==this.position?(t.style.width="100%",t.style.left=0,t.style.bottom=0,t.style.opacity=1,t.style.transform="translate(0,110%)"):(t.style.left="50%",t.style.top="30%",t.style.opacity=0,t.style.transform="translate(-50%,-50%)")},methods:{showBG:function(t){var e=this;setTimeout((function(){var n=e.$refs.PopupBG||"",s=e.$refs.PopupBody||"";t?(n.style.opacity=1,"left"==e.position?s.style.transform="translate(-1px,0)":"right"==e.position?s.style.transform="translate(1px,0)":"top"==e.position?s.style.transform="translate(0,-1px)":"bottom"==e.position?s.style.transform="translate(0,1px)":(s.style.opacity=1,s.style.top="50%")):(n.style.opacity=0,"left"==e.position?s.style.transform="translate(-110%,0)":"right"==e.position?s.style.transform="translate(110%,0)":"top"==e.position?s.style.transform="translate(0,-110%)":"bottom"==e.position?s.style.transform="translate(0,110%)":(s.style.opacity=0,s.style.top="30%")),setTimeout((function(){e.$emit("show",t)}),300)}),300)},clickBG:function(){this.bgClose&&this.showBG(!1)}}}),j=x,A=(n("62e8"),n("2877")),B=Object(A["a"])(j,M,O,!1,null,"6f555959",null),T=B.exports,N=n("58fd"),L=n("1fba"),U={name:"APP",components:{Action:N["a"],Popup:T},data:function(){return{storage:v["a"],menusScroll:null,actionScroll:null,update:{show:!1,os:"",down:!1,loading:"0%",msg:"检测更新",file:"",total:0},upDateColor:h["a"].update,login:{uname:"",passwd:"",subText:"登 录",dis:!1},menus:[],config:{show:!1,title:"系统配置",is_msg_audio:!0},msg:{show:!1}}},mounted:function(){C.init(this),h["a"].update.start&&this.isUpdate(),v["a"].getItem("token")&&this.getMenus(),this._enter()},methods:{isUpdate:function(){var t=this;Object(_["a"])((function(){t.update.os=plus.os.name,Object(k["a"])("index/appUpdate",{os:t.update.os},(function(e){var n=e.data;if(0!=n.code)return!1;plus.runtime.getProperty(plus.runtime.appid,(function(e){if(!I(e.version,n.version))return!1;t.update.show=!0,t.update.down=!0,t.update.msg="新版本: "+n.version+"&nbsp;&nbsp;大小: "+(n.size/1024/1024).toFixed(2)+"MB",t.update.file=h["a"].baseUrl+n.file,t.update.total=n.size}))}))}))},updateDown:function(){var t=this;if(this.update.down=!1,this.update.msg="开始下载",this.update.loading="0%","iOS"==this.update.os)this.update.msg="请在桌面查看安装进度",window.open(h["a"].upIosUrl),setTimeout((function(){plus.runtime.quit()}),5e3);else{var e=plus.downloader.createDownload(this.update.file,{filename:"_doc/download/",timeout:30},(function(e,n){200==n?plus.runtime.install(e.filename,{force:!0},(function(){plus.runtime.restart()}),(function(t){Object(g["a"])("安装失败!")})):(t.update.down=!0,t.update.msg="下载失败")}));e.start(),e.addEventListener("statechanged",(function(e,n){var s=parseInt(e.downloadedSize/t.update.total*100);t.update.loading=s+"%",t.update.msg="正在下载："+t.update.loading,s>=100&&(t.update.msg="下载完成，安装并重启")}))}},loginSub:function(){var t=this,e=this.login.uname,n=this.login.passwd,s=Object(S["a"])("passwd",n);if(!0!==Object(S["a"])("uname",e)&&!0!==Object(S["a"])("email",e)&&!0!==Object(S["a"])("tel",e))return Object(g["a"])("请输入帐号/手机/邮箱");if(!0!==s)return Object(g["a"])(s);this.login.subText="正在登录",this.login.dis=!0;var a=Object($["a"])();Object(k["a"])("user/login",{uname:e,passwd:n},(function(e){a.clear(),t.login.subText="登 录",t.login.dis=!1;var n=e.data;0==n.code?(t.$store.state.isLogin=!0,t.$store.state.uInfo=n.uinfo,v["a"].setItem("token",n.token),t.getMenus(),t.$router.replace({path:"/refresh"})):(t.$store.state.isLogin=!1,t.$store.state.uInfo={},v["a"].setItem("token",""),Object(g["a"])(n.msg))}),(function(t){a.clear(),Object(g["a"])("网络加载失败!")}))},logout:function(){this.$store.state.isLogin=!1,this.$store.state.uInfo={},v["a"].setItem("token",""),y._closeMsg(),this._enter()},_enter:function(){var t=arguments,e=this;document.onkeydown=function(n){var s=n||window.event||t.callee.caller.arguments[0];s&&13==s.keyCode&&!e.$store.state.isLogin&&e.loginSub()}},getMenus:function(){var t=this;this.$store.state.collapseMenu="true"==v["a"].getItem("isCollapse"),this.$store.state.defaultMenu=v["a"].getItem("defaultMenu")?v["a"].getItem("defaultMenu"):"3";var e=this.$refs.LeftMenus;e&&(this.menusScroll=new L["a"](e,{scrollY:!0,click:!0,probeType:2,mouseWheel:!0,scrollbar:{fade:!0,interactive:!1}}));var n=this.$refs.TopAction;n&&(this.actionScroll=new L["a"](n,{scrollX:!0,click:!0,probeType:2,mouseWheel:!0,scrollbar:{fade:!0,interactive:!1}})),Object(k["a"])("Usermain/getMenus",{token:v["a"].getItem("token")},(function(e){var n=e.data;0==n.code&&(t.$store.state.menus=n.menus)}))},hideMenus:function(){this.isCollapse=!this.isCollapse,v["a"].setItem("isCollapse",this.isCollapse),this.$store.state.collapseMenu=this.isCollapse},openUrl:function(t,e,n,s){if(v["a"].setItem("MenuName",s),v["a"].setItem("defaultMenu",n),this.$store.state.defaultMenu=n,"3"!=n){var a=JSON.parse(v["a"].getItem("Menus")||"[]"),o={ico:t,url:e,index:n,name:s},i=a.findIndex((function(t){return JSON.stringify(t)==JSON.stringify(o)}));i>=0&&a.splice(i,1),a.push({ico:t,url:e,index:n,name:s}),v["a"].setItem("Menus",JSON.stringify(a))}this.$router.push(e)},openConfig:function(){this.config.show=!0},subConfig:function(t){var e=this,n={};n[t]=this.config[t]?"1":"0";var s=Object($["a"])();Object(k["a"])("Userinfo/edit",{token:v["a"].getItem("token"),data:JSON.stringify(n)},(function(n){s.clear();var a=n.data;return e.$store.state.uinfo[t]=e.config[t],a.code,Object(g["a"])(a.msg)}))},openMsg:function(){this.msg.show=!0}}},P=U,F=(n("034f"),Object(A["a"])(P,f,m,!1,null,null,null)),E=F.exports;document.title=h["a"].title,s["default"].config.productionTip=h["a"].dev,s["default"].prototype.$config=h["a"],s["default"].use(p.a),new s["default"]({router:c,store:l,render:function(t){return t(E)}}).$mount("#app")},"58fd":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.actions.length?n("el-row",{staticClass:"action",style:{minWidth:t.width}},[n("el-button-group",{ref:"Action"},t._l(t.actions,(function(e){return n("el-button",{key:e.name,attrs:{icon:e.ico},on:{click:function(n){return t.openAction(e.action)}}},[t._v(t._s(e.name))])})),1)],1):t._e()},a=[],o=n("0169"),i={name:"ImageView",props:{url:{type:String,default:""},menus:""},data:function(){return{width:"1200px",actions:[]}},watch:{url:function(t){this.getAction(this.url)}},mounted:function(){this.getAction(this.url)},methods:{getAction:function(t){var e=this;Object(o["a"])("Usermain/getMenusAction",{token:o["b"].getItem("token"),url:t},(function(t){var n=t.data;if(0==n.code){if(e.actions=n.menuAction,e.menus)for(var s in e.menus)e.actions.push(e.menus[s]);setTimeout((function(){var t=e.$refs.Action.$el;e.width=t.offsetWidth+1+"px",e.$store.state.action.width=e.width}),3e3)}}))},openAction:function(t){var e=this;this.$store.state.action.type=t,setTimeout((function(){e.$store.state.action.type=""}),1e3)}}},r=i,c=n("2877"),u=Object(c["a"])(r,s,a,!1,null,null,null);e["a"]=u.exports},"5f06":function(t,e,n){"use strict";var s=n("e563");e["a"]=function(t,e,n){n=n||!1;var a=!1,o="",i={uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{4,15}$/,tel:/^[1]\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,vcode:/^\d{4}$/,passwd:/^[a-zA-Z0-9|_|@|-|*|&]{6,16}$/};switch(t){case"uname":a=i.uname.test(e),o=a?"":"用户名英文开头5~16位！";break;case"tel":a=i.tel.test(e),o=a?"":"手机号码错误！";break;case"email":a=i.email.test(e),o=a?"":"邮箱帐号错误！";break;case"vcode":a=i.vcode.test(e),o=a?"":"验证码4位！";break;case"passwd":a=i.passwd.test(e),o=a?"":"密码为6~16位字符！";break}return o&&n&&Object(s["a"])(o),!!a||o}},"62e8":function(t,e,n){"use strict";var s=n("c687"),a=n.n(s);a.a},"64a9":function(t,e,n){},"775b":function(t,e,n){"use strict";e["a"]={setItem:function(t,e){return window.localStorage.setItem(t,e)},getItem:function(t){return window.localStorage.getItem(t)},clear:function(){return window.localStorage.clear()}}},"86d5":function(t,e,n){t.exports=n.p+"img/bg.197fc15f.jpg"},"8a2a":function(t,e,n){"use strict";var s=n("8c89"),a=n("bc3a"),o=n.n(a);e["a"]=function(t,e,n,a,i){var r=t.substr(0,4);t="http"==r?t:s["a"].apiUrl+t;var c=new FormData;for(var u in e)c.append(u,e[u]);var l=s["a"].request;for(var d in i=i||{},l)i[d]=l[d];o.a.post(t,c,i).then(n).catch(a)}},"8aa1":function(t,e,n){},"8c89":function(t,e,n){"use strict";var s="WM后台系统",a="https://demo-api.webmis.vip/",o="wss://demo-api.webmis.vip/wss";e["a"]={dev:!1,title:s,version:"1.0.0",baseUrl:a,apiUrl:a+"admin/",copy:"Copyright © WebMIS.vip 2020",request:{headers:{"Content-Type":"multipart/form-data"}},statusBar:{height:"0px",color:"#333",bgColor:"#FFF"},update:{start:!0,bg:"#6FB737",logoBg:"#FFF",loading:"#FFF",loaded:"#666",copy:"#333",butColor:"#666",butBg:"#FFF",butText:"下载并安装"},upIosUrl:"",amapKey:"d956f0c3e15489a1b5bf291e5d133c8a",socket:{start:!1,server:o},msgContent:"content",msgBrowser:!1}},"919a":function(t,e,n){"use strict";e["a"]=function(t){var e=document.getElementsByClassName("wm-ui_load")[0];e&&document.body.removeChild(e);var n=document.createElement("div");n.setAttribute("class","wm-ui_load"),n.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(n),t=t||1e4;var s=setTimeout((function(){e=document.getElementsByClassName("wm-ui_load")[0],e&&document.body.removeChild(e)}),t);return{clear:function(){document.body.removeChild(n),clearTimeout(s)}}}},"9b19":function(t,e,n){t.exports=n.p+"img/logo.5f2c810c.svg"},bca5:function(t,e,n){"use strict";n("7f7f");var s=n("e563"),a=n("8a2a");e["a"]=function(t,e,n){Inc.config.msgBrowser&&window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission((function(n){new Notification(t,{body:e})}));var o="title"==Inc.config.msgContent?t:e;if(Object(s["a"])(o),n=n||!1,n){var i=Inc.storage.getItem("token")||"";if(!i)return Object(s["a"])("请先登录!");Object(a["a"])("Usermain/baiduAudio",{token:i,text:o},(function(t){var e=t.data;if(0!=e.code)return Object(s["a"])(e.msg);var n=new Audio;n.src=e.url;try{if("iOS"==plus.os.name){var a=plus.ios.importClass("AVAudioSession"),i=a.sharedInstance();i.setCategoryerror("AVAudioSessionCategoryPlayback",null),i.setActiveerror("YES",null);var r=plus.ios.importClass("AVSpeechSynthesizer"),c=plus.ios.importClass("AVSpeechUtterance"),u=plus.ios.import("AVSpeechSynthesisVoice"),l=new r,d=u.voiceWithLanguage("zh-CN"),p=c.speechUtteranceWithString(o);p.setVoice(d),l.speakUtterance(p)}else n.play()}catch(f){n.play()}}))}}},c687:function(t,e,n){},e563:function(t,e,n){"use strict";e["a"]=function(t,e){var n=document.createElement("div");n.setAttribute("class","wm-ui_toast"),n.innerHTML="<span>"+t+"</span>",document.body.appendChild(n),setTimeout((function(){n.style.opacity="1",n.style.top="10%"}),100),e=e||3e3,setTimeout((function(){document.body.removeChild(n)}),e)}},fbd7:function(t,e,n){"use strict";e["a"]=function(t,e){t.$router.goBack(-e)}}});