(function(t){function e(e){for(var i,n,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,n=1;n<s.length;n++){var r=s[n];0!==o[r]&&(i=!1)}i&&(a.splice(e--,1),t=c(c.s=s[0]))}return t}var i={},n={app:0},o={app:0},a=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d22fdb0":"65996a68","chunk-59bc5ce5":"c7979106","chunk-b7c6ff40":"fb672b19"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-59bc5ce5":1,"chunk-b7c6ff40":1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=new Promise((function(e,s){for(var i="css/"+({}[t]||t)+"."+{"chunk-2d22fdb0":"31d6cfe0","chunk-59bc5ce5":"b1cc4f11","chunk-b7c6ff40":"92647ec0"}[t]+".css",o=c.p+i,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var l=a[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===i||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete n[t],p.parentNode.removeChild(p),s(a)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){n[t]=0})));var i=o[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,s){i=o[t]=[e,s]}));e.push(i[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var s=o[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",d.name="ChunkLoadError",d.type=i,d.request=n,s[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(s,i,function(e){return t[e]}.bind(null,i));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},2659:function(t,e,s){},2769:function(t,e,s){"use strict";s("409c")},"409c":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("b0c0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("7a23"),n=(s("d3b7"),s("6c02")),o=[{path:"/",name:"index",component:function(){return s.e("chunk-59bc5ce5").then(s.bind(null,"d504"))}},{path:"/demo",name:"Demo",component:function(){return s.e("chunk-b7c6ff40").then(s.bind(null,"c876"))}},{path:"/refresh",name:"Refresh",component:function(){return s.e("chunk-2d22fdb0").then(s.bind(null,"ea97"))}}],a=Object(n["a"])({history:Object(n["b"])(""),routes:o});a.goBack=function(t){this.isBack=!0,this.go(t)};var r=a,c=s("5502"),l=Object(c["a"])({state:{mode:"light",statusBarHeight:0,isLogin:"",uInfo:{},system:{},menus:[],defaultMenu:"3",collapseMenu:!1,action:{url:"",type:"",width:"",menus:""},socket:null,uMsg:{scroll:null,group:[],num:""},uNotify:{},scan:null},mutations:{},actions:{},modules:{}}),u=Object(i["I"])("data-v-a1eccb5a");Object(i["t"])("data-v-a1eccb5a");var d={id:"app"},p={class:"update_ct verticalCenter"},h=Object(i["h"])("div",null,null,-1),f={class:"load_button"},m={class:"login_body"},b={class:"login_logo flex_center"},g={class:"nowrap"},v={class:"login_ct"},y={class:"login_type"},O={class:"title"},j=Object(i["h"])("div",{class:"arrow flex_center"},[Object(i["h"])("div",{class:"arrow_up"})],-1),w={class:"list"},k=Object(i["h"])("h3",null,"会员登录",-1),I={class:"login_input"},_={class:"login_input"},C={class:"login_input"},x={class:"login_copy nowrap"},S={class:"app_user"},B={class:"img"},P={key:1,class:"bgImg tu"},A={class:"info nowrap"},U={class:"app_login nowrap"},L={class:"config"},H=Object(i["g"])("> "),$={class:"app_right"},N=Object(i["g"])(" top "),M={class:"app_main"},T={class:"app_copy"};Object(i["r"])();var F=u((function(t,e,n,o,a,r){var c=Object(i["y"])("wm-input"),l=Object(i["y"])("wm-button"),F=Object(i["y"])("wm-menu"),E=Object(i["y"])("scroll-view"),q=Object(i["y"])("router-view");return Object(i["q"])(),Object(i["e"])("div",d,[t.update.show?(Object(i["q"])(),Object(i["e"])("div",{key:0,class:"update_body",style:{backgroundColor:t.upDateColor.bg}},[Object(i["h"])("div",p,[Object(i["h"])("div",{class:"logo",style:{backgroundColor:t.upDateColor.logoBg}},[h],4),Object(i["h"])("div",{class:"loading",style:{backgroundImage:"linear-gradient(to right, "+t.upDateColor.loading+", "+t.upDateColor.loading+" "+t.update.loading+", "+t.upDateColor.loaded+" "+t.update.loading+", "+t.upDateColor.loaded+" 100%)"}},null,4),Object(i["h"])("div",{class:"load_msg",style:{color:t.upDateColor.msgColor}},Object(i["B"])(t.update.msg),5),Object(i["h"])("div",f,[t.update.down?(Object(i["q"])(),Object(i["e"])("button",{key:0,class:"Button",onClick:e[1]||(e[1]=function(e){return t.updateDown()}),style:{color:t.upDateColor.butColor,backgroundColor:t.upDateColor.butBg}},Object(i["B"])(t.upDateColor.butText),5)):Object(i["f"])("",!0)])]),Object(i["h"])("div",{class:"update_logo",style:{color:t.upDateColor.copy}},[Object(i["h"])("h1",null,Object(i["B"])(t.env.title),1),Object(i["h"])("h2",null,Object(i["B"])(t.env.copy),1)],4)],4)):Object(i["f"])("",!0),Object(i["H"])(Object(i["h"])("div",{class:"login_bg bgImg bgcover",style:{backgroundImage:"url("+(t.store.system.login_bg?t.store.system.login_bg:s("86d5"))+")"}},[Object(i["h"])("div",m,[Object(i["h"])("div",b,[Object(i["h"])("div",{class:"bgImg",style:{backgroundImage:"url("+(t.store.system.logo?t.store.system.logo:s("9b19"))+")"}},null,4),Object(i["h"])("h2",g,Object(i["B"])(t.store.system.title),1)]),Object(i["h"])("div",v,[Object(i["h"])("div",y,[Object(i["h"])("div",O,"< "+Object(i["B"])(t.language[t.languageNum].val)+" >",1),j,Object(i["h"])("ul",w,[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(t.language,(function(e,s){return Object(i["q"])(),Object(i["e"])("li",{key:s,onClick:function(e){return t.platform(s)}},Object(i["B"])(e.val),9,["onClick"])})),128))])]),k,Object(i["h"])("div",I,[Object(i["h"])(c,{value:t.login.uname,"onUpdate:value":e[2]||(e[2]=function(e){return t.login.uname=e}),placeholder:"用户名/手机/邮箱"},null,8,["value"])]),Object(i["h"])("div",_,[Object(i["h"])(c,{value:t.login.passwd,"onUpdate:value":e[3]||(e[3]=function(e){return t.login.passwd=e}),type:"password",placeholder:"密码"},null,8,["value"])]),Object(i["h"])("div",C,[Object(i["h"])(l,{onClick:e[4]||(e[4]=function(e){return t.loginSub()}),disabled:t.login.dis},{default:u((function(){return[Object(i["g"])(Object(i["B"])(t.login.subText),1)]})),_:1},8,["disabled"])])]),Object(i["h"])("div",x,"© "+Object(i["B"])(t.store.system.copy)+"  版本："+Object(i["B"])(t.env.version),1)])],4),[[i["D"],!1===t.store.isLogin]]),Object(i["H"])(Object(i["h"])("div",{class:"app_body flex",style:{paddingTop:t.store.statusBarHeight}},[Object(i["h"])(E,{upperLoad:!1,lowerLoad:!1,class:"app_left"},{default:u((function(){return[Object(i["h"])("div",S,[Object(i["h"])("div",B,[t.store.uInfo.img?(Object(i["q"])(),Object(i["e"])("div",{key:0,style:{backgroundImage:"url("+t.store.uInfo.img+")"}},null,4)):(Object(i["q"])(),Object(i["e"])("div",P))]),Object(i["h"])("div",A,Object(i["B"])(t.store.uInfo.nickname||"昵称")+"("+Object(i["B"])(t.store.uInfo.name||"姓名")+") ",1)]),Object(i["h"])(F,{ref:"Menus",data:t.menus,defaultActive:t.menusActive,onSelect:t.menuClick},null,8,["data","defaultActive","onSelect"]),Object(i["h"])("div",U,[Object(i["h"])("span",L,Object(i["B"])(t.store.uInfo.uname),1),H,Object(i["h"])("span",{class:"logout",onClick:e[5]||(e[5]=function(e){return t.logout()})},"退出")])]})),_:1}),Object(i["h"])("div",$,[Object(i["h"])(E,{class:"app_top",upperLoad:!1,lowerLoad:!1,"scroll-x":!0},{default:u((function(){return[N]})),_:1}),Object(i["h"])("div",M,[Object(i["h"])(q,null,{default:u((function(t){var e=t.Component;return[(Object(i["q"])(),Object(i["e"])(i["b"],null,[(Object(i["q"])(),Object(i["e"])(Object(i["z"])(e)))],1024))]})),_:1})]),Object(i["h"])("div",T," 所属："+Object(i["B"])(t.store.system.title)+"  © "+Object(i["B"])(t.store.system.copy)+"  版本："+Object(i["B"])(t.env.version),1)])],4),[[i["D"],!0===t.store.isLogin]])])})),E=(s("b680"),s("ac1f"),s("5319"),s("8c89")),q=s("e563"),D=s("775b"),z=s("8a2a"),J=function(t,e){t.$router.goBack(-e)},W=function(t){document.addEventListener("plusready",t,!1)},V=function(t){try{var e=plus.webview.currentWebview();plus.key.addEventListener("backbutton",(function(){e.canBack(t)}))}catch(s){return Object(q["a"])("Android返回键")}},X=function t(e,s){try{plus.geolocation.getCurrentPosition((function(t){var s={longitude:t.coords.longitude,latitude:t.coords.latitude,province:t.address.province,city:t.address.city,district:t.address.district,street:t.address.street,streetnum:t.address.streetNum,poiname:t.address.poiName,address:t.address.poiName+t.address.streetNum};D["a"].setItem("geolocation",JSON.stringify(s)),e(s)}),s)}catch(i){try{AMap.service("AMap.Geolocation",(function(){var t=new AMap.Geolocation({enableHighAccuracy:!1,timeout:5e3});t.getCurrentPosition((function(t,s){if(s&&s.position){var i={longitude:s.position.lng,latitude:s.position.lat,province:s.addressComponent.province,city:s.addressComponent.city,district:s.addressComponent.district,street:s.addressComponent.street,streetnum:s.addressComponent.streetNumber,poiname:s.addressComponent.township,address:s.addressComponent.township+s.addressComponent.streetNumber};D["a"].setItem("geolocation",JSON.stringify(i)),e(i)}}))}))}catch(i){setTimeout((function(){t(e,s)}),3e3)}}},Y=X,Z=function(t,e,s){Inc.config.msg.browser&&window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission((function(s){new Notification(t,{body:e})}));var i="title"==Inc.config.msg.content?t:e;if(Object(q["a"])(i),s=s||!1,s){var n=Inc.storage.getItem("token")||"";if(!n)return Object(q["a"])("请先登录!");Object(z["a"])("Usermain/baiduAudio",{token:n,text:i},(function(t){var e=t.data;if(0!=e.code)return Object(q["a"])(e.msg);var s=new Audio;s.src=e.url;try{if("iOS"==plus.os.name){var n=plus.ios.importClass("AVAudioSession"),o=n.sharedInstance();o.setCategoryerror("AVAudioSessionCategoryPlayback",null),o.setActiveerror("YES",null);var a=plus.ios.importClass("AVSpeechSynthesizer"),r=plus.ios.importClass("AVSpeechUtterance"),c=plus.ios.import("AVSpeechSynthesisVoice"),l=new a,u=c.voiceWithLanguage("zh-CN"),d=r.speechUtteranceWithString(i);d.setVoice(u),l.speakUtterance(d)}else s.play()}catch(p){s.play()}}))}},G={self:null,store:null,msgRouter:function(t){"group"==t.type?this.msgGroup(t):"msg"==t.type?this.msg(t):"notify"==t.type&&this.msgNotify(t)},msg:function(t){var e=D["a"].getItem("voice");Z(t.data.title,t.data.content,!!e)},start:function(t){var e=this;this.self=t,this.store=this.self.$store.state,clearInterval(this.socketInterval),this.socketInterval=setInterval((function(){!e.store.isLogin||e.store.socket&&1==e.store.socket.readyState||e.start(t)}),E["a"].socket.time);var s=D["a"].getItem("token");if(!s)return!1;E["a"].socket.start&&this.socket(s)},socket:function(t){var e=this;this.store.socket=new WebSocket(E["a"].socket.server+"?token="+t),this.store.socket.onopen=function(){console.log("Socket开启"),clearInterval(e.heartbeat),e.heartbeat=setInterval((function(){try{e.store.socket.send(JSON.stringify({type:""}))}catch(t){e._closeMsg()}}),1e4)},this.store.socket.onclose=function(){console.log("Socket关闭"),e._closeMsg()},this.store.socket.onmessage=function(t){var s=JSON.parse(t.data);if(0!=s.code)return Object(q["a"])(s.msg);e.msgRouter(s)}},_closeMsg:function(){this.store.socket&&(this.store.socket.close(),this.store.socket=null)}},R={self:null,init:function(t){var e=this;this.self=t,W((function(){plus.screen.lockOrientation("portrait-primary"),plus.navigator.setStatusBarStyle("dark"),plus.navigator.setStatusBarBackground("#FFFFFF"),e.self.$store.state.statusBarHeight=plus.navigator.getStatusbarHeight(),setTimeout((function(){plus.navigator.closeSplashscreen()}),300),document.addEventListener("uistylechange",(function(){e.self.$store.state.mode=plus.navigator.getUiStyle()}),!1);var t=0;V((function(s){s.canBack?(e.self.$store.state.scan&&e.self.$store.state.scan.close(),J(e.self,1)):(t>0&&plus.runtime.quit(),Object(q["a"])("再按一次退出应用!"),t++,setTimeout((function(){t=0}),2e3))}))})),E["a"].login.start&&(this.tokenState(1),clearInterval(this.tokenInterval),this.tokenInterval=setInterval((function(){e.tokenState(0)}),E["a"].login.time)),E["a"].amap.start&&this.geoLocation(),E["a"].socket.start&&G.start(this.self),this.getConfig()},tokenState:function(t){var e=this,s=D["a"].getItem("token");s?Object(z["a"])(E["a"].login.api,{token:s,uinfo:t},(function(t){var s=t.data;0==s.code?(e.self.$store.state.isLogin=!0,s[E["a"].login.uinfo]&&(e.self.$store.state.uInfo=s[E["a"].login.uinfo])):(e.self.$store.state.isLogin=!1,e.self.$store.state.uInfo={},D["a"].setItem("token",""))})):(this.self.$store.state.isLogin=!1,D["a"].setItem("token",""))},geoLocation:function(){var t=this;setTimeout((function(){Y((function(e){t.self.$store.state.geolocation=e,D["a"].setItem("city",e.district)}),(function(t){Object(q["a"])("获取定位失败!")}))}),1e3)},getConfig:function(){var t=this;Object(z["a"])("index/getConfig",{},(function(e){var s=e.data;0==s.code&&(t.self.$store.state.system=s.list)}),(function(t){Object(q["a"])("网络加载失败!")}))}},Q=function(t){var e=document.getElementsByClassName("wm-ui_load")[0];e&&document.body.removeChild(e);var s=document.createElement("div");s.setAttribute("class","wm-ui_load"),s.innerHTML='<span><i class="ui ui_loading"></i></span>',document.body.appendChild(s),t=t||1e4;var i=setTimeout((function(){e=document.getElementsByClassName("wm-ui_load")[0],e&&document.body.removeChild(e)}),t);return{clear:function(){document.body.removeChild(s),clearTimeout(i)}}},K=(s("1276"),function(t,e){var s=t.split("."),i=e.split(".");return parseInt(s[0])<parseInt(i[0])||(parseInt(s[1])<parseInt(i[1])||parseInt(s[2])<parseInt(i[2]))}),tt=function(t,e,s){s=s||!1;var i=!1,n="",o={uname:/^[a-zA-Z][a-zA-Z0-9\_\@\-\*\&]{4,15}$/,tel:/^[1]\d{10}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,vcode:/^\d{4}$/,passwd:/^[a-zA-Z0-9|_|@|-|*|&]{6,16}$/};switch(t){case"uname":i=o.uname.test(e),n=i?"":"用户名英文开头5~16位！";break;case"tel":i=o.tel.test(e),n=i?"":"手机号码错误！";break;case"email":i=o.email.test(e),n=i?"":"邮箱帐号错误！";break;case"vcode":i=o.vcode.test(e),n=i?"":"验证码4位！";break;case"passwd":i=o.passwd.test(e),n=i?"":"密码为6~16位字符！";break}return n&&s&&Object(q["a"])(n),!!i||n},et=Object(i["I"])("data-v-67a4fe44");Object(i["t"])("data-v-67a4fe44");var st={class:"wm-scroll_html"},it={class:"wm-scroll_load"};Object(i["r"])();var nt=et((function(t,e,s,n,o,a){return Object(i["q"])(),Object(i["e"])("div",st,[Object(i["H"])(Object(i["h"])("div",{ref:"upper",class:"wm-scroll_load_body",style:{backgroundColor:s.upperBg}},[Object(i["h"])("div",it,[Object(i["h"])("i",{class:s.upperIcon,style:{color:s.upperColor}},null,6)])],4),[[i["D"],s.upperLoad]]),Object(i["h"])("div",{ref:"html",class:["wm-scroll_view",s.scrollX?o.isMobile?"wm-scroll_view_x":"wm-scroll_view_y":o.isMobile?"":"wm-scroll_view_y"],onTouchstart:e[1]||(e[1]=function(){return a.start.apply(a,arguments)}),onTouchmove:e[2]||(e[2]=function(){return a.move.apply(a,arguments)}),onTouchend:e[3]||(e[3]=function(){return a.end.apply(a,arguments)})},[Object(i["x"])(t.$slots,"default")],34)])})),ot=(s("a9e3"),s("466d"),function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return!!t&&t[0]}),at={name:"ScrollView",props:{isScroll:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},upper:{type:Number,default:64},lowerBoundary:{type:Number,default:50},upperLoad:{type:Boolean,default:!0},upperIcon:{type:String,default:"ui ui_loading"},upperBg:{type:String,default:""},upperColor:{type:String,default:""},limit:{type:Number,default:120}},data:function(){return{isMobile:!0,sp:"y",html:{w:0,h:0},body:{w:0,h:0,x:0,y:0},refUpper:{},refHtml:{},cubicBezier:"0.25,0.46,0.45,0.94"}},mounted:function(){this.isMobile=ot(),this.sp=this.scrollX?"x":"y",this.refUpper=this.$refs.upper,this.refHtml=this.$refs.html,"x"==this.sp?(this.refUpper.style.left=0,this.refUpper.style.width="".concat(this.upper,"px"),this.refUpper.style.height="100%",this.refUpper.style.transform="translate(-".concat(this.upper,"px,0)"),this.refHtml.style.overflowX="auto"):(this.refUpper.style.top=0,this.refUpper.style.width="100%",this.refUpper.style.height="".concat(this.upper,"px"),this.refUpper.style.transform="translate(0,-".concat(this.upper,"px)"),this.refHtml.style.overflowY="auto"),this.refHtml.addEventListener("scroll",this.scroll)},methods:{res:function(){return{x:this.body.x,y:this.body.y,w:this.body.w,h:this.body.h,boxW:this.html.w,boxH:this.html.h}},refresh:function(){this.html.w=this.refHtml.offsetWidth,this.html.h=this.refHtml.offsetHeight,this.body.w=this.refHtml.scrollWidth,this.body.h=this.refHtml.scrollHeight,this.body.min=0,this.body.max=this.body["x"==this.sp?"w":"h"]-this.html["x"==this.sp?"w":"h"]-this.lowerBoundary},start:function(t){var e=t.touches?t.touches[0]:t;this.movePage={x:0,y:0},this.tmpPage={x:0,y:0},this.startPage={x:e.clientX,y:e.clientY},this.isUpper=!1,this.isLower=!0,this.refresh(),this.scrollEnabled("auto")},move:function(t){if(!this.isScroll)return!1;var e=t.touches?t.touches[0]:t;if(this.movePage={x:parseInt(e.clientX-this.startPage.x),y:parseInt(e.clientY-this.startPage.y)},this.tmpPage[this.sp]=this.movePage[this.sp],this.body[this.sp]<=0&&this.tmpPage[this.sp]>0){this.isUpper=!0,this.isMobile&&this.scrollEnabled("hidden");var s=this.upper-this.tmpPage[this.sp];s<0&&(this.tmpPage[this.sp]=this.upper),this.tmpPage[this.sp]!=this.tmpUpper&&(this.tmpUpper=this.tmpPage[this.sp],this._translateUpper(s>0?s:0,200),this.translate(this.tmpPage[this.sp],200),"x"==this.sp?(this.body.x=-this.tmpPage[this.sp],this.body.y=0,this.$emit("scroll",this.res())):(this.body.x=0,this.body.y=-this.tmpPage[this.sp],this.$emit("scroll",this.res())))}else this.body[this.sp]>0&&this.tmpPage[this.sp]<0&&this.body[this.sp]>=this.body.max&&this.isLower&&(this.isLower=!1,this.$emit("x"==this.sp?"right":"up",this.res()))},end:function(t){this.isUpper&&(this.isUpper=!1,this._translateUpper(this.upper,400),this.translate(0,400),this.scrollEnabled("auto"),"x"==this.sp?(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("left",this.res())):(this.body.x=0,this.body.y=0,this.$emit("scroll",this.res()),this.tmpPage[this.sp]>=this.upper&&this.$emit("down",this.res())));var e=Math.abs(this.movePage.x/this.movePage.y)||0;e>1&&this.movePage.x>this.limit?this.$emit("swipe","left"):e>1&&this.movePage.x<-this.limit?this.$emit("swipe","right"):e<1&&this.movePage.y>this.limit?this.$emit("swipe","down"):e<1&&this.movePage.y<-this.limit&&this.$emit("swipe","up")},scroll:function(){this.body.x=this.refHtml.scrollLeft,this.body.y=this.refHtml.scrollTop,this.$emit("scroll",this.res()),this.isLower&&this.tmpPage[this.sp]<0&&this.body[this.sp]>=this.body.max&&(this.isLower=!1,this.$emit("x"==this.sp?"right":"up",this.res()))},translate:function(t,e){this.refHtml.style.transitionDuration="".concat(e,"ms"),this.refHtml.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refHtml.style.paddingLeft="".concat(t,"px"):this.refHtml.style.paddingTop="".concat(t,"px")},_translateUpper:function(t,e){this.refUpper.style.opacity=(100-t/this.upper*100)/100,this.refUpper.style.transitionDuration="".concat(e,"ms"),this.refUpper.style.transitionTimingFunction="cubic-bezier(".concat(this.cubicBezier,")"),"x"==this.sp?this.refUpper.style.transform="translate(-".concat(t,"px,0)"):this.refUpper.style.transform="translate(0,-".concat(t,"px)")},scrollEnabled:function(t){t=t||"auto","x"==this.sp?this.refHtml.style.overflowX=t:this.refHtml.style.overflowY=t}}};s("90c8");at.render=nt,at.__scopeId="data-v-67a4fe44";var rt=at,ct=Object(i["I"])("data-v-434d1981");Object(i["t"])("data-v-434d1981");var lt={class:"wm-menu"},ut={class:"flex"},dt=Object(i["h"])("i",{class:"ui ui_down"},null,-1);Object(i["r"])();var pt=ct((function(t,e,s,n,o,a){return Object(i["q"])(),Object(i["e"])("div",lt,[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(s.data,(function(t,e){return Object(i["q"])(),Object(i["e"])("div",{key:e,style:{color:s.fontColor}},[Object(i["h"])("div",{class:"wm-menu_title flex",onClick:function(t){return a.titleClick(e)},style:{height:s.titleHeight+"px",lineHeight:s.titleHeight+"px"}},[Object(i["h"])("div",ut,[t.ico?(Object(i["q"])(),Object(i["e"])("i",{key:0,class:t.ico},null,2)):Object(i["f"])("",!0),Object(i["h"])("h1",null,Object(i["B"])(t.title),1)]),Object(i["h"])("div",{id:"ico"+e,class:"arrow"},[dt],8,["id"])],12,["onClick"]),t.children?(Object(i["q"])(),Object(i["e"])("ul",{key:0,id:"t"+e,class:"wm-menu_list"},[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(t.children,(function(t,n){return Object(i["q"])(),Object(i["e"])("li",{key:n,onClick:function(t){return a.menuClick([e,n])},class:t.checked?"active":"",style:{height:s.itemHeight+"px",lineHeight:s.itemHeight+"px"}},Object(i["B"])(t.title),15,["onClick"])})),128))],8,["id"])):Object(i["f"])("",!0)],4)})),128))])})),ht={name:"Menu",props:{data:{type:Array,default:[]},defaultActive:{type:Array,default:[0,0]},fontColor:{type:String,default:"#FFF"},titleHeight:{type:Number,default:40},itemHeight:{type:Number,default:36}},methods:{titleClick:function(t){if(!this.data[t])return!1;var e=this.data[t].children.length||0,s=document.getElementById("ico"+t),i=document.getElementById("t"+t),n=36*e+"px";i.style.height==n?(s.style.transform="rotate(0deg)",i.style.height="0px"):(s.style.transform="rotate(180deg)",i.style.height=n)},menuClick:function(t){for(var e in this.data)for(var s in this.data[e].children)this.data[e].children[s].checked=!1;this.data[t[0]]&&this.data[t[0]].children&&(this.data[t[0]].children[t[1]].checked=!0,this.$emit("select",t))}}};s("2769");ht.render=pt,ht.__scopeId="data-v-434d1981";var ft=ht,mt=Object(i["I"])("data-v-65852e56"),bt=mt((function(t,e,s,n,o,a){return Object(i["q"])(),Object(i["e"])("div",null,[Object(i["h"])("input",{value:s.value,onInput:e[1]||(e[1]=function(e){return t.$emit("update:value",e.target.value)}),type:s.type,placeholder:s.placeholder},null,40,["value","type","placeholder"])])})),gt={name:"Input",props:{value:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""}}};s("729d");gt.render=bt,gt.__scopeId="data-v-65852e56";var vt=gt,yt=Object(i["I"])("data-v-0aefffb8"),Ot=yt((function(t,e,s,n,o,a){return Object(i["q"])(),Object(i["e"])("div",null,[Object(i["h"])("button",{class:"button",disabled:s.disabled},[Object(i["x"])(t.$slots,"default")],8,["disabled"])])})),jt={name:"Botton",props:{disabled:{type:Boolean,default:!1}}};s("8ff0");jt.render=Ot,jt.__scopeId="data-v-0aefffb8";var wt=jt,kt={name:"APP",components:{ScrollView:rt,wmMenu:ft,wmInput:vt,wmButton:wt},data:function(){return{env:E["a"],storage:D["a"],store:this.$store.state,update:{show:!1,os:"",down:!1,loading:"1%",msg:"检测更新",file:"",total:0},upDateColor:E["a"].update,login:{uname:"",passwd:"",subText:"登 录",dis:!1},menus:[],menusActive:[0,0],config:{show:!1,title:"系统配置",is_msg_audio:!0},languageNum:0,language:[{name:"php",val:"PHP( Phalcon )"},{name:"python",val:"Python( Flask )"},{name:"java",val:"Java( SpringBoot )"}]}},mounted:function(){R.init(this),E["a"].update.start&&this.isUpdate(),this.login.uname=D["a"].getItem("uname"),this.reLanguage(),this._enter(),D["a"].getItem("token")&&this.getMenus()},methods:{platform:function(t){var e=this.language[t];e.index=t,D["a"].setItem("platform",JSON.stringify(e)),window.location.href=""},reLanguage:function(){var t=D["a"].getItem("platform"),e=t?JSON.parse(t):this.language[0];this.languageNum=e.index||0},isUpdate:function(){var t=this;W((function(){t.update.os=plus.os.name,Object(z["a"])("index/appUpdate",{os:t.update.os},(function(e){var s=e.data;if(0!=s.code)return!1;plus.runtime.getProperty(plus.runtime.appid,(function(e){if(!K(e.version,s.version))return!1;t.update.show=!0,t.update.down=!0,t.update.msg="新版本: "+s.version+"&nbsp;&nbsp;大小: "+(s.size/1024/1024).toFixed(2)+"MB",t.update.file=E["a"].baseUrl+s.file,t.update.total=s.size}))}))}))},updateDown:function(){var t=this;if(this.update.down=!1,this.update.msg="开始下载",this.update.loading="0%","iOS"==this.update.os)this.update.msg="请在桌面查看安装进度",window.open(E["a"].upIosUrl),setTimeout((function(){plus.runtime.quit()}),5e3);else{var e=plus.downloader.createDownload(this.update.file,{filename:"_doc/download/",timeout:30},(function(e,s){200==s?plus.runtime.install(e.filename,{force:!0},(function(){plus.runtime.restart()}),(function(t){Object(q["a"])("安装失败!")})):(t.update.down=!0,t.update.msg="下载失败")}));e.start(),e.addEventListener("statechanged",(function(e,s){var i=parseInt(e.downloadedSize/t.update.total*100);t.update.loading=i+"%",t.update.msg="正在下载："+t.update.loading,i>=100&&(t.update.msg="下载完成，安装并重启")}))}},loginSub:function(){var t=this,e=this.login.uname,s=this.login.passwd,i=tt("passwd",s);if(!0!==tt("uname",e)&&!0!==tt("email",e)&&!0!==tt("tel",e))return Object(q["a"])("请输入帐号/手机/邮箱");if(!0!==i)return Object(q["a"])(i);this.login.subText="正在登录",this.login.dis=!0;var n=Q();Object(z["a"])("user/login",{uname:e,passwd:s},(function(e){n.clear(),t.login.subText="登 录",t.login.dis=!1;var s=e.data;0==s.code?(t.store.isLogin=!0,t.store.uInfo=s.uinfo,D["a"].setItem("token",s.token),D["a"].setItem("uname",s.uinfo.uname),D["a"].setItem("uinfo",JSON.stringify(s.uinfo)),t.getMenus(),t.$router.replace({path:"/refresh"})):(t.store.isLogin=!1,t.store.uInfo={},D["a"].setItem("token",""),Object(q["a"])(s.msg))}),(function(e){n.clear(),Object(q["a"])("网络加载失败!"),t.login.subText="登 录",t.login.dis=!1}))},logout:function(){this.store.isLogin=!1,this.store.uInfo={},D["a"].setItem("token",""),this.login.passwd=""},_enter:function(){var t=arguments,e=this;document.onkeydown=function(s){var i=s||window.event||t.callee.caller.arguments[0];i&&13==i.keyCode&&!e.store.isLogin&&e.loginSub()}},getMenus:function(){var t=this;Object(z["a"])("Sysmenus/getMenus",{token:D["a"].getItem("token")},(function(e){var s=e.data;if(0==s.code){t.menus=s.menus,t.menusActive=D["a"].getItem("menusActive")?JSON.parse(D["a"].getItem("menusActive")):[0,1];var i=t.$refs.Menus;setTimeout((function(){i.titleClick(t.menusActive[0]),i.menuClick(t.menusActive)}),300)}}))},menuClick:function(t){D["a"].setItem("menusActive",JSON.stringify(t));var e=this.menus[t[0]].children[t[1]].url;console.log(e),this.$router.push(e)}}};s("64be"),s("9c38");kt.render=F,kt.__scopeId="data-v-a1eccb5a";var It=kt;document.title=E["a"].title,Object(i["d"])(It).use(l).use(r).mount("#app"),document.body.ontouchstart=function(){try{"iOS"!=plus.os.name&&document.createElement("audio")}catch(t){document.createElement("audio")}}},"64be":function(t,e,s){"use strict";s("c894")},"6a91":function(t,e,s){},"6bfa":function(t,e,s){},"729d":function(t,e,s){"use strict";s("6a91")},"775b":function(t,e,s){"use strict";e["a"]={setItem:function(t,e){return window.localStorage.setItem(t,e)},getItem:function(t){return window.localStorage.getItem(t)},clear:function(){return window.localStorage.clear()}}},"86d5":function(t,e,s){t.exports=s.p+"img/bg.197fc15f.jpg"},"8a2a":function(t,e,s){"use strict";var i=s("8c89"),n=s("bc3a"),o=s.n(n);e["a"]=function(t,e,s,n,a){var r=t.substr(0,4);t="http"==r?t:i["a"].apiUrl+t;var c=new FormData;for(var l in e)c.append(l,e[l]);var u=i["a"].request;for(var d in a=a||{},u)a[d]=u[d];o.a.post(t,c,a).then(s).catch(n)}},"8c89":function(t,e,s){"use strict";s("b0c0");var i,n,o=s("775b"),a="WebMIS开发平台",r=JSON.parse(o["a"].getItem("platform"));r&&"python"==r.name?(i="https://demo-python.webmis.vip/",n="wss://demo-python.webmis.vip/wss"):r&&"java"==r.name?(i="https://demo-java.webmis.vip/",n="wss://demo-java.webmis.vip/wss"):(i="https://demo-api.webmis.vip/",n="wss://demo-api.webmis.vip/wss"),e["a"]={dev:!1,title:a,version:"1.0.0",baseUrl:i,apiUrl:i+"admin/",copy:"Copyright © WebMIS.vip 2020",request:{headers:{"Content-Type":"multipart/form-data"}},statusBar:{height:"0px",color:"#333",bgColor:"#FFF"},update:{start:!0,bg:"#24292E",logoBg:"#FFFFFF",loading:"#6FB737",loaded:"#000000",copy:"#666666",msgColor:"#999999",butColor:"#FFFFFF",butBg:"#6FB737",butText:"下载并安装"},upIosUrl:"",login:{start:!0,api:"user/token",uinfo:"uinfo",time:6e4},amap:{start:!1,jsapi_key:"d956f0c3e15489a1b5bf291e5d133c8a"},socket:{start:!1,server:n,time:5e3},msg:{content:"title",browser:!1}}},"8ff0":function(t,e,s){"use strict";s("6bfa")},"90c8":function(t,e,s){"use strict";s("2659")},"9a65":function(t,e,s){},"9b19":function(t,e,s){t.exports=s.p+"img/logo.5f2c810c.svg"},"9c38":function(t,e,s){"use strict";s("9a65")},c894:function(t,e,s){},e563:function(t,e,s){"use strict";e["a"]=function(t,e){var s=document.createElement("div");s.setAttribute("class","wm-ui_toast"),s.innerHTML="<span>"+t+"</span>",document.body.appendChild(s),setTimeout((function(){s.style.opacity="1",s.style.top="10%"}),100),e=e||3e3,setTimeout((function(){document.body.removeChild(s)}),e)}}});