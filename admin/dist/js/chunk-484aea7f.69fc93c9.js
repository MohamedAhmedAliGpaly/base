(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-484aea7f"],{2016:function(t,e,o){},"5f2a":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticClass:"body mtop"},[o("el-form",{attrs:{model:t.form,"label-width":t.LabelWidth}},[o("el-form-item",{attrs:{label:"LOGO"}},[t.form.logo?o("label",{staticClass:"upload bgimg radius bgcover",style:{backgroundImage:"url("+t.$config.baseUrl+t.form.logo+")"},attrs:{for:"logo"}}):o("label",{staticClass:"upload bgimg radius",attrs:{for:"logo"}}),o("input",{staticClass:"hide",attrs:{type:"file",id:"logo"},on:{change:function(e){return t.upImage(e,"logo")}}})]),o("el-form-item",{attrs:{label:"系统名称"}},[o("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入系统名称、公司名称等"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"网站域名"}},[o("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入网站域名"},model:{value:t.form.http,callback:function(e){t.$set(t.form,"http",e)},expression:"form.http"}})],1),o("el-form-item",{attrs:{label:"版权信息"}},[o("el-input",{staticStyle:{"max-width":"320px"},attrs:{placeholder:"请输入版权信息"},model:{value:t.form.copy,callback:function(e){t.$set(t.form,"copy",e)},expression:"form.copy"}})],1),o("el-form-item",{attrs:{label:"登录背景"}},[t.form.login_bg?o("label",{staticClass:"upload bgimg bgcover",style:{backgroundImage:"url("+t.$config.baseUrl+t.form.login_bg+")"},attrs:{for:"login_bg"}}):o("label",{staticClass:"upload bgimg",attrs:{for:"login_bg"}}),o("input",{staticClass:"hide",attrs:{type:"file",id:"login_bg"},on:{change:function(e){return t.upImage(e,"bg")}}})]),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit()}}},[t._v("保存设置")])],1)],1)],1)],1)},s=[],i=o("9060"),l={data:function(){return{LabelWidth:"100px",form:{logo:"",title:"",http:"",copy:"",login_bg:""}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,e=this.$loading({text:"分页数据"});this.$ajax.post(this.$config.apiUrl+"Sysconfig/list","token="+this.$storage.getItem("token")).then((function(o){e.close();var a=o.data;0!=a.code?t.$message.error(a.msg):t.form=a.list}))},onSubmit:function(){var t=this,e=this.$loading({text:"提交数据"}),o=JSON.stringify(this.form);this.$ajax.post(this.$config.apiUrl+"Sysconfig/edit","token="+this.$storage.getItem("token")+"&data="+o).then((function(a){e.close();var s=a.data;if(0==s.code){var i=JSON.parse(o);return t.$store.state.system.title=i.title,t.$store.state.system.copy=i.copy,t.$message.success(s.msg)}return t.$message.error(s.msg)}))},upImage:function(t,e){var o=this,a=t.currentTarget,s=a.files[0],l={};"logo"==e?(l.width=100,l.height=100):"bg"==e&&(l.width=1366),i["a"].readerCompress(s,l,(function(t){var a=o.$loading({text:"提交数据"});o.$ajax.post(o.$config.apiUrl+"Sysconfig/upImage","token="+o.$storage.getItem("token")+"&type="+e+"&base64="+t).then((function(t){a.close();var s=t.data;0==s.code?(o.$message.success(s.msg),"logo"==e?(o.form.logo=s.img,o.$store.state.system.logo=s.img):"bg"==e&&(o.form.login_bg=s.img,o.$store.state.system.login_bg=s.img)):o.$message.error(s.msg)}))}))}}},r=l,n=(o("c011"),o("2877")),g=Object(n["a"])(r,a,s,!1,null,"6d73e0c8",null);e["default"]=g.exports},c011:function(t,e,o){"use strict";var a=o("2016"),s=o.n(a);s.a}}]);
//# sourceMappingURL=chunk-484aea7f.69fc93c9.js.map