{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/router.js","webpack:///./src/config.js","webpack:///./src/App.vue?c095","webpack:///./src/library/Socket.js","webpack:///./src/App.js","webpack:///./src/App.js?8008","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/notify/notify.vue?ee44","webpack:///./src/env.js","webpack:///./src/components/notify/notify.vue?dc1f","webpack:///src/components/notify/notify.vue","webpack:///./src/components/notify/notify.vue?ee6f","webpack:///./src/components/notify/notify.vue","webpack:///./src/components/notify/notify.js","webpack:///./src/library/Plus.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","Vue","use","VueRouter","goBack","num","this","isBack","go","routes","path","component","require","originalPush","location","catch","router","base","process","install","title","Env","$config","$obj","scan","setTime","socket","$reg","val","isRight","msg","reg","uname","tel","email","vcode","passwd","test","_vm","_h","$createElement","_c","_self","attrs","staticStyle","update","staticClass","style","backgroundColor","upDateColor","bg","themeColor","logoBg","backgroundImage","loading","loaded","domProps","_s","_v","color","on","$event","updateDown","_e","copy","transitionName","keepAlive","staticRenderFns","start","token","$storage","getItem","WebSocket","socketServer","onopen","log","clearInterval","heartbeat","setInterval","send","JSON","stringify","msgInterval","msgNew","onmessage","parse","Plus","notify","content","obj","id","closeMsg","close","setItem","onclose","$ajax","post","apiUrl","res","addEventListener","visibilityState","hiddenTime","Date","getTime","visibleTime","Button","watch","$route","to","from","$router","show","os","down","file","total","mounted","init","body","ontouchstart","Socket","methods","getStatusBarHeight","immersed","ms","exec","navigator","userAgent","parseFloat","plus","screen","lockOrientation","setStatusBarStyle","setStatusBarBackground","statusBar","height","backcount","webview","currentWebview","canBack","runtime","quit","$createToast","txt","isUpdate","getProperty","appid","app","version","size","toFixed","baseUrl","open","upIosUrl","downloader","createDownload","status","filename","force","restart","complete","parseInt","downloadedSize","config","productionTip","Config","axios","localStorage","$qrcode","QRCode","render","h","App","$mount","bgColor","amapKey","msgRead","msgContent","msgBrowser","props","elem","transition","transform","opacity","leave","box","$msgNotify","options","v","extend","modal","vm","html","delay","onClick","getElementById","$el","stime","onclick","Notify","VueAMap","initAMapApiLoader","plugin","isPlus","callback","Notification","permission","requestPermission","msgAudio","text","AVAudioSession","ios","importClass","AVAudioSessionObj","sharedInstance","setCategoryerror","setActiveerror","AVSpeechSynthesizer","AVSpeechUtterance","AVSpeechSynthesisVoice","import","speech","voice","voiceWithLanguage","utterance","speechUtteranceWithString","setVoice","speakUtterance","play","pay","pay_type","url","fail","parmStr","payment","getChannels","channels","channel","geoLocation","geolocation","getCurrentPosition","province","address","city","latitude","coords","longitude","AMap","service","Geolocation","enableHighAccuracy","getCityInfo","position","lat","lng","getAddress","place","PlaceSearch","search","poiList","pois","camera","getCamera","captureImage","io","resolveLocalFileSystemURL","entry","fileObj","click","onchange","files","photo","multiple","gallery","pick","tmpArr","sTime","filter","readerCompress","parm","ready","FileReader","readAsDataURL","onloadend","ext","compressImage","width","cut","quality","mimeType","jpg","png","gif","w","dst_x","dst_y","dst_size","src_size","canvas","context","getContext","img","Image","Math","round","drawImage","toDataURL","video","startVideoCapture","audio","record","uploader","progress","task","createUpload","method","addFile","addData","cacheClear","removeRecursively"],"mappings":"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","file":"js/app.e0f70684.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-627d183b\":\"f6b1f28a\",\"chunk-a89a02dc\":\"f2b3acd7\",\"chunk-ae5352de\":\"0b1eabcb\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-627d183b\":1,\"chunk-a89a02dc\":1,\"chunk-ae5352de\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-627d183b\":\"422047e0\",\"chunk-a89a02dc\":\"56e39202\",\"chunk-ae5352de\":\"26b03e89\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n// 返回上级\nVueRouter.prototype.goBack = function(num){\n  this.isBack = true;\n  this.go(num);\n}\n\n/* 路由配置 */\nconst routes = [\n  {path:'/', name:'index', component:resolve=>require(['./views/Index.vue'],resolve)},\n  // Demo\n  {path:'/map', name:'map', component:resolve=>require(['./views/tools/Map.vue'],resolve)},\n  {path:'/scan', name:'scan', component:resolve=>require(['./views/tools/Scan.vue'],resolve)},\n];\n\n/* 点击相同路由报错问题 */\nconst originalPush = VueRouter.prototype.push\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err)\n}\n\n/* 创建路由 */\nconst router = new VueRouter({\n  // mode: 'history',\n  base: process.env.BASE_URL,\n  routes: routes\n})\nexport default router\n","\nimport Env from '@/env'\n\n/* 函数 */\nconst install = (Vue)=>{\n  // 系统标题\n  document.title = Env.title;\n  // 配置信息\n  Vue.prototype.$config = Env;\n  // 全局变量\n  Vue.prototype.$obj = {\n    scan: null,\n    setTime: null,\n    socket: null,\n  };\n  /* 正则验证 */\n  Vue.prototype.$reg = (name,val)=>{\n    let isRight=false;\n    let msg='';\n    const reg = {\n      uname: /^[a-zA-Z][a-zA-Z0-9\\_\\@\\-\\*\\&]{4,15}$/,\n      tel: /^[1]\\d{10}$/,\n      email: /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/,\n      vcode: /^\\d{4}$/,\n      passwd: /^\\w{6,16}$/,\n    }\n    switch(name){\n      case 'uname':\n        isRight = reg.uname.test(val);\n        msg = !isRight?'用户名英文开头5~16位！':'';\n        break;\n      case 'tel':\n        isRight = reg.tel.test(val);\n        msg = !isRight?'手机号码错误！':'';\n        break;\n      case 'email':\n        isRight = reg.email.test(val);\n        msg = !isRight?'邮箱帐号错误！':'';\n        break;\n      case 'vcode':\n        isRight = reg.vcode.test(val);\n        msg = !isRight?'验证码4位！':'';\n        break;\n      case 'passwd':\n        isRight = reg.passwd.test(val);\n        msg = !isRight?'密码为6~16位字符！':'';\n        break;\n    }\n    return isRight?true:msg;\n  }\n}\nexport default install;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('audio',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"msg\"}}),(_vm.update.show)?_c('div',{staticClass:\"update_body\",style:({backgroundColor: _vm.upDateColor.bg || _vm.$config.themeColor})},[_c('div',{staticClass:\"update_ct\"},[_c('div',{staticClass:\"logo\",style:({backgroundColor: _vm.upDateColor.logoBg})},[_c('div')]),_c('div',{staticClass:\"loading\",style:({backgroundImage: 'linear-gradient(to right, '+_vm.upDateColor.loading+', '+_vm.upDateColor.loading+' '+_vm.update.loading+', '+_vm.upDateColor.loaded+' '+_vm.update.loading+', '+_vm.upDateColor.loaded+' 100%)'})}),_c('div',{staticClass:\"load_msg\",domProps:{\"innerHTML\":_vm._s(_vm.update.msg)}},[_vm._v(\"正在加载应用\")]),_c('div',{staticClass:\"load_button\"},[(_vm.update.down)?_c('van-button',{style:({color: _vm.$config.themeColor}),attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateDown()}}},[_vm._v(\"下载并安装\")]):_vm._e()],1)]),_c('div',{staticClass:\"update_logo\",style:({color:_vm.upDateColor.copy})},[_c('h1',[_vm._v(_vm._s(_vm.$config.title))]),_c('h2',[_vm._v(_vm._s(_vm.$config.copy))])])]):_vm._e(),_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('keep-alive',{attrs:{\"max\":_vm.keepAlive}},[_c('router-view',{staticClass:\"view\"})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Env from '@/env'\nimport Plus from '@/library/Plus'\n\nexport default {\n  \n  /* 启动 */\n  start(){\n    let token = Vue.prototype.$storage.getItem('token');\n    if(!token) return;\n    Vue.prototype.$obj.socket = new WebSocket(Env.socketServer+'?token='+token);\n    /* 链接 */\n    Vue.prototype.$obj.socket.onopen = ()=>{\n      console.log('消息系统');\n      // 心跳包\n      clearInterval(this.heartbeat);\n      this.heartbeat = setInterval(()=>{\n        if(Vue.prototype.$obj.socket) Vue.prototype.$obj.socket.send(JSON.stringify({type:''}));\n      },10000);\n      // 新消息\n      Vue.prototype.$obj.socket.send(JSON.stringify({type:'newMsg'}));\n      clearInterval(this.msgInterval);\n      this.msgInterval = setInterval(()=>{\n        Vue.prototype.$obj.socket.send(JSON.stringify({type:'newMsg'}));\n        Vue.prototype.$obj.socket.send(JSON.stringify({type:'getMsg'}));\n      },Env.msgNew);\n    }\n    /* 消息 */\n    Vue.prototype.$obj.socket.onmessage = (e)=>{\n      const msg = JSON.parse(e.data);\n      if(msg.code==0 && msg.type=='system'){\n        // 提示\n        Plus.notify(msg.title,msg.content,(obj)=>{\n          if(msg.id) this.closeMsg(msg.id);\n          obj.close();\n        });\n        // 刷新消息数\n        Vue.prototype.$obj.socket.send(JSON.stringify({type:'newMsg'}));\n      }else if(msg.code==0 && msg.type=='newMsg'){\n        Vue.prototype.$storage.setItem('msgNew',msg.num);\n      }else if(msg.code==0 && msg.type=='getMsg'){\n        if(msg.title){\n          Plus.notify(msg.title,msg.content,(obj)=>{\n            if(msg.id) this.closeMsg(msg.id);\n            obj.close();\n          });\n        }\n      }\n    }\n    /* 关闭 */\n    Vue.prototype.$obj.socket.onclose = ()=>{\n      console.log('消息关闭');\n      clearInterval(this.msgInterval);\n      Vue.prototype.$obj.socket = null;\n      setTimeout(()=>{\n        if(!Vue.prototype.$obj.socket) this.start();\n      },10000);\n    }\n  },\n\n  /* 已读消息 */\n  closeMsg(id){\n    Vue.prototype.$ajax.post(Vue.prototype.$config.apiUrl+'UserMain/msgNewState','token='+Vue.prototype.$storage.getItem('token')+'&id='+id).then((res)=>{\n      // 刷新消息数\n      Vue.prototype.$obj.socket.send(JSON.stringify({type:'newMsg'}));\n    });\n  },\n\n  /* 重启机制 */\n  event(){\n    document.addEventListener('visibilitychange',()=>{\n      if(document.visibilityState == 'hidden') {\n        let hiddenTime = new Date().getTime();\n        Vue.prototype.$storage.setItem('HiddenTime',hiddenTime);\n      }else{\n        // 10秒后关闭\n        let hiddenTime = Vue.prototype.$storage.getItem('HiddenTime');\n        let visibleTime = new Date().getTime();\n        if((visibleTime-hiddenTime)/1000 > 10){\n          if(Vue.prototype.$obj.socket) Vue.prototype.$obj.socket.close();\n          setTimeout(()=>{\n            this.start();\n          },1000);\n        }else{console.log('保持链接');}\n      }\n    });\n  },\n\n}","import Env from '@/env'\nimport Socket from '@/library/Socket'\n\nimport Vue from 'vue';\nimport { Button } from 'vant';\nVue.use(Button);\n\nexport default {\n  watch:{\n    $route(to,from){\n      // 页面切换\n      const isBack = this.$router.isBack;\n      this.$router.isBack = false;\n      this.transitionName = isBack?'slide-right':'slide-left';\n    }\n  },\n  data(){\n    return {\n      keepAlive: 10,\n      // 切换动画\n      transitionName: 'slide-left',\n      // 更新APP\n      update: {show:false, os:'', down:false, loading:'0%', msg:'检测更新', file:'', total:0},\n      upDateColor: Env.upDateColor,\n      // 新消息\n      msgNew: 0,\n      msgInterval: null,\n    }\n  },\n  mounted(){\n    // 初始化\n    setTimeout(()=>{this.init()},1000);\n    // 播放声音\n    document.body.ontouchstart = ()=>{document.createElement('audio');}\n    /* 消息推送 */\n    const token = this.$storage.getItem('token');\n    if(token){\n      Socket.event();\n      Socket.start();\n      clearInterval(this.msgInterval);\n      this.msgInterval = setInterval(()=>{\n        this.msgNew = this.$storage.getItem('msgNew');\n      },1000);\n    }\n  },\n  methods:{\n\n    /* 状态栏高度 */\n    getStatusBarHeight: ()=>{\n      let immersed = 0;\n      const ms=(/Html5Plus\\/.+\\s\\(.*(Immersed\\/(\\d+\\.?\\d*).*)\\)/gi).exec(navigator.userAgent);\n      if(ms&&ms.length>=3){\n        immersed=parseFloat(ms[2]);\n      }\n      return immersed;\n    },\n\n    /* 初始化 */\n    init(){\n      try{\n        plus\n        // 竖屏\n        plus.screen.lockOrientation(\"portrait-primary\");\n        // 状态栏\n        plus.navigator.setStatusBarStyle('dark');\n        plus.navigator.setStatusBarBackground(Env.themeColor);\n        Env.statusBar.height = this.getStatusBarHeight()+'px';\n        // Env.statusBar.height = plus.os.name=='Android'?this.getStatusBarHeight()+'px':'env(safe-area-inset-top)';\n        // Android返回键\n        let backcount = 0;\n        let webview = plus.webview.currentWebview();\n        plus.key.addEventListener('backbutton', ()=>{\n          webview.canBack((e)=>{\n            if(e.canBack){\n              this.$router.goBack(-1);\n              // 关闭项目\n              if(this.$obj.scan) this.$obj.scan.close();\n            }else{\n              if(backcount>0) plus.runtime.quit();\n              this.$createToast({txt:'再按一次退出应用!'}).show();\n              backcount++;\n              setTimeout(()=>{backcount=0;},2000);\n            }\n          });\n          // 更新\n          if(Env.update) this.isUpdate();\n        });\n      }catch(e){\n        // 浏览器后退\n        // window.history.pushState('forward', null, '#');\n        // window.history.forward(1);\n        // window.addEventListener(\"popstate\", (e)=>{\n        //   this.$router.goBack(-1);\n        // });\n      }\n    },\n\n    /* 检测更新 */\n    isUpdate(){\n      this.update.os = plus.os.name;\n      this.$ajax.post(\n        this.$config.apiUrl+'index/appUpdate',\n        'os='+this.update.os\n      ).then((res)=>{\n        let d = res.data;\n        if(d.code!=0) return false;\n        // 是否更新\n        plus.runtime.getProperty(plus.runtime.appid,(app)=>{\n          if(d.version == app.version) return false;\n          this.update.show = true;\n          this.update.down = true;\n          this.update.msg = '新版本: '+d.version+'&nbsp;&nbsp;大小: '+(d.size/1024/1024).toFixed(2)+'MB';\n          this.update.file = this.$config.baseUrl+d.file;\n          this.update.total = d.size;\n        });\n      });\n    },\n\n    /* 下载更新 */\n    updateDown(){\n      this.update.down = false;\n      this.update.msg = '开始下载';\n      this.update.loading = '0%';\n      if (this.update.os == 'iOS') {\n        // 苹果手机\n        this.update.msg = '请在桌面查看安装进度';\n        window.open(Env.upIosUrl);\n        // 关闭APP\n        setTimeout(()=>{\n          plus.runtime.quit();\n        },5000);\n      }else{\n        // 安卓手机\n        let down = plus.downloader.createDownload(this.update.file, {\n          'filename':'_doc/download/',\n          'timeout': 30,\n        },(d, status)=>{\n          if(status == 200){\n            // 安装并重启\n            plus.runtime.install(d.filename, {force:true},()=>{\n              plus.runtime.restart();\n            },(e)=>{\n              this.$createToast({txt:'安装失败'}).show();\n            });\n          }else{\n            this.update.down = true;\n            this.update.msg = '下载失败';\n          }\n        });\n        // 开始任务\n        down.start();\n        // 下载进度\n        down.addEventListener('statechanged',(res, status)=>{\n          let complete = parseInt(res.downloadedSize/this.update.total*100);\n          this.update.loading = complete+'%';\n          this.update.msg = '正在下载：'+this.update.loading;\n          if (complete >= 100) this.update.msg = '下载完成，安装并重启';\n        });\n      }\n    },\n\n  }\n}","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!./App.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!./App.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b06dd70a&\"\nimport script from \"./App.js?vue&type=script&lang=js&\"\nexport * from \"./App.js?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport router from './router'\nimport axios from 'axios'\nimport QRCode from 'qrcode'\n\nimport Config from './config'\nimport App from './App.vue'\n\n// 配置\nVue.config.productionTip = false;\nVue.use(Config);\n\n// 全局注册\nVue.prototype.$ajax = axios;\nVue.prototype.$storage = window.localStorage;\nVue.prototype.$qrcode = QRCode;\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\n/* 用户点击播放问题 */\ndocument.body.ontouchstart = ()=>{\n  try{\n    if(plus.os.name!='iOS') document.createElement('audio');\n  }catch(e){\n    document.createElement('audio');\n  }\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notify.vue?vue&type=style&index=0&id=840c12a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notify.vue?vue&type=style&index=0&id=840c12a2&scoped=true&lang=css&\"","/* 配置文件 */\n// const baseUrl = 'http://localhost:8083/';\nconst baseUrl = 'https://api.webmis.vip/';\nexport default {\n  title: 'WebMIS',\n  version: 'v1.0.0',\n  baseUrl: baseUrl,\n  apiUrl: baseUrl+'api/',\n  themeColor: '#6FB737',\n  copy: 'Copyright © WebMIS.VIP 2019',\n  // 状态栏\n  statusBar:{height:'0px',color: '#333', bgColor:'#FFF'},\n  // 更新\n  update: false,\n  upDateColor: {bg:'',logoBg:'#FFF',loading:'#FFF',loaded:'#666',copy:'#333'},\n  upIosUrl: 'itms-apps://itunes.apple.com/cn/app/tao-bao-sui-shi-sui-xiang/id387682726?mt=8',\n  // 地图\n  amapKey: 'd956f0c3e15489a1b5bf291e5d133c8a',\n  // Socket\n  socketServer: 'wss://webmis.vip/wss',\n  msgRead: 1000,\n  msgNew: 5*60*1000,\n  msgContent: 'title',\n  msgBrowser: false,\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notify_body\",style:({backgroundColor:_vm.bgColor,color:_vm.color})},[_c('div',{staticClass:\"notify_title flex\"},[_c('div',{staticClass:\"logo\"}),_c('h2',{staticClass:\"nowrap\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"close\"})]),(_vm.content)?_c('div',{staticClass:\"notify_content\",domProps:{\"innerHTML\":_vm._s(_vm.content)}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"notify_body\" :style=\"{backgroundColor:bgColor,color:color}\">\n    <div class=\"notify_title flex\">\n      <div class=\"logo\"></div>\n      <h2 class=\"nowrap\">{{title}}</h2>\n      <div class=\"close\"></div>\n    </div>\n    <div class=\"notify_content\" v-if=\"content\" v-html=\"content\"></div>\n  </div>\n</template>\n\n<style scoped>\n.notify_body{margin: 10px 0; padding: 5px; box-shadow: 0 0 12px rgba(0,0,0,.2); border-radius: 6px; transform: translate(0, -100%); opacity: 0;}\n.notify_title{line-height: 32px;}\n.notify_title div{width: 32px; height: 32px;}\n.notify_title .logo{background: url('../../assets/logo.svg') no-repeat center; background-size: 70%;}\n.notify_title .close{cursor: pointer; background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTczMDM0MDUwOTE4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMxOTEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNODQ2Ljg0MSA3OTkuMDI0bC0yODQuODM5LTI4NC44MzkgMjg0LjgzOS0yODQuOTZjMTMuNzE0LTEzLjcxNCAxMy43MTQtMzYuMDQ1IDAtNDkuNzU5cy0zNi4wNDUtMTMuNzE0LTQ5Ljc1OSAwbC0yODQuODM5IDI4NC44MzktMjg0Ljk2LTI4NC44MzljLTEzLjcxNC0xMy43MTQtMzYuMDQ1LTEzLjcxNC00OS43NTkgMHMtMTMuNzE0IDM2LjA0NSAwIDQ5Ljc1OWwyODQuOTYgMjg0Ljk2LTI4NC45NiAyODQuODM5Yy0xMy43MTQgMTMuNzE0LTEzLjcxNCAzNi4wNDUgMCA0OS43NTlzMzYuMDQ1IDEzLjcxNCA0OS43NTkgMGwyODQuOTYtMjg0Ljk2IDI4NC45NiAyODQuOTZjMTMuNzE0IDEzLjcxNCAzNi4wNDUgMTMuNzE0IDQ5Ljc1OSAwIDEzLjU5My0xMy43MTQgMTMuNTkzLTM2LjA0NS0wLjEyMi00OS43NTl6IiBmaWxsPSIiIHAtaWQ9IjMxOTIiPjwvcGF0aD48L3N2Zz4=') no-repeat center; background-size: 50%;}\n.notify_title h2{font-size: 16px; width: calc(100% - 70px);}\n.notify_content{padding: 0px 10px 6px; line-height: 21px; font-size: 14px;}\n</style>\n\n<script>\nexport default {\n  name:'Notify',\n  props: {\n    title: {type: String, default: '消息'},\n    content: {type: String, default: ''},\n    bgColor: {type: String, default: '#FFF'},\n    color: {type: String, default: '#333'},\n  },\n  data(){\n    return {\n    }\n  },\n  mounted(){\n  },\n  methods:{\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notify.vue?vue&type=template&id=840c12a2&scoped=true&\"\nimport script from \"./notify.vue?vue&type=script&lang=js&\"\nexport * from \"./notify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./notify.vue?vue&type=style&index=0&id=840c12a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"840c12a2\",\n  null\n  \n)\n\nexport default component.exports","import modal from './notify.vue'\n\n/* 消息插件 */\nlet notify={};\nnotify.install = function(Vue){\n\n  /* 动画 */\n  const start = (elem)=>{\n    elem.style.transition = 'all .3s ease';\n    elem.style.transform = 'translate(0, 0)';\n    elem.style.opacity = '1';\n  }\n  const leave = (elem,box)=>{\n    elem.style.transition = 'all .3s ease';\n    elem.style.transform = 'translate(0, -100%)';\n    elem.style.opacity = '0';\n    setTimeout(()=>{\n      box.removeChild(elem);\n    },300);\n  }\n\n  /* 消息 */\n  Vue.prototype.$msgNotify = (options)=>{\n    // 模块\n    let v = Vue.extend(modal);\n    let vm = new v;\n    // 容器\n    let html = document.createElement('div');\n    vm.$mount(html);\n    // 赋值\n    vm.title = options.title || '标题';\n    vm.content = options.content || '';\n    vm.color = options.color || '#333';\n    vm.bgColor = options.bgColor || 'rgba(255,255,255,.9)';\n    options.delay = options.delay || 5000;\n    options.onClick = options.onClick || function(){};\n    // 追加\n    let box = document.getElementById('notifyBody');\n    if(!box){\n      box = document.createElement('div');\n      box.setAttribute('id','notifyBody');\n      box.setAttribute('style','position: fixed; z-index: 9999; width: 100%; max-width: 360px; top: 10px; left: 0; right: 0; margin: auto;');\n    }\n    document.body.appendChild(box);\n    box.appendChild(vm.$el);\n    setTimeout(()=>{\n      start(vm.$el);\n    },300);\n    // 自动关闭\n    vm.$el.stime = setTimeout(()=>{\n      leave(vm.$el,box);\n    },options.delay);\n    // 事项\n    vm.$el.onclick = function(){\n      options.onClick(this);\n    };\n    // 点击关闭\n    vm.$el.close = function(){\n      clearTimeout(vm.$el.stime);\n      leave(vm.$el,box);\n    }\n    \n  }\n\n  \n\n\n}\nexport default notify;","import Vue from 'vue';\nimport Env from '@/env'\nimport VueAMap from 'vue-amap';\nimport axios from 'axios'\n\nimport Notify from '../components/notify/notify';\nVue.use(Notify);\n\n// 初始化地图\nVueAMap.initAMapApiLoader({key: Env.amapKey, plugin: ['AMap.Geolocation','PlaceSearch'], v: '1.4.15'});\n\nexport default {\n\n  /* Plus加载完成 */\n  isPlus(callback){\n    document.addEventListener('plusready',callback,false);\n  },\n\n  /* 本地消息 */\n  notify(title,content,callback){\n    /* 浏览器 */\n    if(Env.msgBrowser && window.Notification && Notification.permission !== \"denied\") {\n      Notification.requestPermission(function(status) {\n        setTimeout(()=>{\n          new Notification(title, {body:content }); \n        },Env.msgRead);\n      });\n    }\n    /* 系统内部 */\n    setTimeout(()=>{\n      Vue.prototype.$msgNotify({title:title, content:content, delay:6000, onClick:callback});\n    },Env.msgRead);\n    /* 是否阅读 */\n    if(Env.msgRead==0) return;\n    // 百度Token\n    axios.post(Env.apiUrl+'index/baiduToken').then((res)=>{\n      const msgAudio = document.getElementById('msg');\n      let text = Env.msgContent=='title'?title:content;\n      msgAudio.src = '//tsn.baidu.com/text2audio?lan=zh&ctp=1&cuid=1&tex='+text+'&tok='+res.data.token;\n      setTimeout(()=>{\n        try{\n          if(plus.os.name=='iOS'){\n            let AVAudioSession = plus.ios.importClass(\"AVAudioSession\"),\n            AVAudioSessionObj = AVAudioSession.sharedInstance();\n            AVAudioSessionObj.setCategoryerror('AVAudioSessionCategoryPlayback', null);\n            AVAudioSessionObj.setActiveerror('YES', null);\n            let AVSpeechSynthesizer = plus.ios.importClass(\"AVSpeechSynthesizer\");\n            let AVSpeechUtterance = plus.ios.importClass(\"AVSpeechUtterance\");\n            let AVSpeechSynthesisVoice = plus.ios.import(\"AVSpeechSynthesisVoice\");\n            let speech = new AVSpeechSynthesizer();\n            let voice = AVSpeechSynthesisVoice.voiceWithLanguage(\"zh-CN\");\n            let utterance = AVSpeechUtterance.speechUtteranceWithString(text);\n            utterance.setVoice(voice);\n            speech.speakUtterance(utterance);\n          }else{\n            msgAudio.play();\n          }\n        }catch(e){\n          msgAudio.play();\n        }\n      },Env.msgRead);\n    });\n  },\n\n  /* 支付 */\n  pay(pay_type,url,data,callback,fail){\n    // 请求参数\n    let parmStr = '';\n    for(let i in data) parmStr += i+'='+data[i]+'&';\n    try{\n      // APP支付\n      if(pay_type=='alipay') parmStr += 'type=app';\n      else if(pay_type=='wxpay') parmStr += 'type=APP';\n      // 支付频道\n      plus.payment.getChannels((channels)=>{\n        let channel = null;\n        for(let i in channels){\n          if(channels[i].id==pay_type) channel=channels[i];\n        }\n        // 支付参数\n        axios.post(url,parmStr).then((res)=>{\n          const d = res.data;\n          if(d.code==0){\n            // 提交\n            plus.payment.request(channel,d.data,callback,fail);\n          }else{\n            console.log(d.msg);\n          }\n        });\n      },(e)=>{\n        console.log('支付通道: '+e.message);\n      });\n        \n    }catch(e){\n      console.log('H5方式: '+pay_type);\n    }\n  },\n\n  /* 定位 */\n  geoLocation(callback,fail){\n    try{\n      plus.geolocation.getCurrentPosition((res)=>{\n        let data = {};\n        data.province = res.address.province; \n        data.city = res.address.city;\n        data.latitude = res.coords.latitude;\n        data.longitude = res.coords.longitude;\n        // 保存本地\n        window.localStorage.setItem('GeoLocation',JSON.stringify(data));\n        callback(data);\n      },fail);\n    }catch(e){\n      // 获取定位\n      setTimeout(()=>{\n        AMap.service(['AMap.Geolocation'], ()=>{\n          const geolocation = new AMap.Geolocation({enableHighAccuracy: false,timeout: 5000});\n          // 城市信息\n          geolocation.getCityInfo((status, result)=>{\n            let data = {};\n            data.province = result.province;\n            data.city = result.city;\n            // 经纬度\n            geolocation.getCurrentPosition((status, result)=>{\n              if(result && result.position){\n                data.latitude = result.position.lat;\n                data.longitude = result.position.lng;\n                // 保存本地\n                window.localStorage.setItem('GeoLocation',JSON.stringify(data));\n                callback(data);\n              }else fail(status);\n            });\n          });\n        });\n      },500);\n    }\n  },\n\n  /* 获取地名信息 */\n  getAddress(name,callback,fail){\n    setTimeout(()=>{\n      AMap.service(['AMap.PlaceSearch'], ()=>{\n        let location = window.localStorage.getItem('GeoLocation');\n        location = location?JSON.parse(location):{city:'昆明市'};\n        const place = new AMap.PlaceSearch({city:location.city});\n        place.search(name,(status, result)=>{\n          if(result && result.poiList){\n            callback(result.poiList.pois);\n          }else fail(status);\n        });\n      });\n    },500);\n  },\n\n  /* 拍照 */\n  camera(callback,fail){\n    try{\n      let camera = plus.camera.getCamera();\n      camera.captureImage(function(url){\n        plus.io.resolveLocalFileSystemURL(url, function (entry) {\n          callback(url,entry);\n        },(e)=>{\n          console.log(\"读取拍照失败\");\n        });\n      },fail);\n    }catch(e){\n      // 创建文件对象\n      let fileObj = document.createElement('input');\n      fileObj.setAttribute('type','file');\n      fileObj.setAttribute(\"style\",'display: none');\n      // 返回文件对象\n      document.body.appendChild(fileObj);\n      fileObj.click();\n      fileObj.onchange = ()=>{\n        callback(fileObj.files[0]);\n      }\n    }\n  },\n\n  /* 相册 */\n  photo(callback,fail,multiple){\n    multiple = multiple || true;\n    try{\n      plus.gallery.pick((res)=>{\n        const tmpArr = res.files;\n        let files = [];\n        let sTime = null;\n        for(let i in tmpArr){\n          plus.io.resolveLocalFileSystemURL(tmpArr[i], function (entry) {\n            entry.file((file)=>{\n              files.push(file);\n              clearTimeout(sTime);\n              sTime = setTimeout(()=>{\n                callback(files);\n              },300);\n            });\n          },(e)=>{\n            console.log('读取文件: '+e.message);\n          });\n        }\n      },fail,{filter:\"image\",multiple: multiple});\n    }catch(e){\n      // 创建文件对象\n      let fileObj = document.createElement('input');\n      fileObj.setAttribute('type','file');\n      fileObj.setAttribute(\"style\",'display: none');\n      // 是否多选\n      if(multiple) fileObj.setAttribute('multiple','multiple');\n      // 返回文件对象\n      document.body.appendChild(fileObj);\n      fileObj.click();\n      fileObj.onchange = ()=>{\n        callback(fileObj.files);\n      }\n    }\n  },\n\n  /* 图片压缩 */\n  readerCompress(file,parm,callback){\n    const _self = this;\n    try{\n      let ready = new plus.io.FileReader();\n      ready.readAsDataURL(file);\n      ready.onloadend = function(){\n        // 格式\n        if(!parm.ext){\n          if(file.type=='image/jpeg') parm.ext = 'jpg';\n          else if(file.type=='image/png') parm.ext = 'png';\n          else if(file.type=='image/gif') parm.ext = 'gif';\n        }\n        // 压缩\n        _self.compressImage(this.result,parm,callback);\n      }\n    }catch(e){\n      let ready = new FileReader();\n      ready.readAsDataURL(file);\n      ready.onloadend = function(){\n        // 格式\n        if(!parm.ext){\n          if(file.type=='image/jpeg') parm.ext = 'jpg';\n          else if(file.type=='image/png') parm.ext = 'png';\n          else if(file.type=='image/gif') parm.ext = 'gif';\n        }\n        // 压缩\n        _self.compressImage(this.result,parm,callback);\n      }\n    }\n  },\n  compressImage(file,parm,callback){\n    // 参数\n    let width = parm.width || 0;\n    let height = parm.height || 0;\n    let cut = parm.cut || true;\n    let quality = parm.quality || 0.8;\n    let ext = parm.ext || 'jpg';\n    const mimeType = {jpg:'image/jpeg',png:'image/png',gif:'image/gif'};\n    let w=1,h=1;\n    let dst_x=0,dst_y=0;\n    let dst_size = 1;\n    let src_size = w/h;\n    // 图片信息\n    let canvas = document.createElement('canvas');\n    let context = canvas.getContext('2d');\n    let img = new Image();\n    img.src = file;\n    img.onload = function () {\n      src_size = this.width/this.height;\n      // 宽、高、不缩放、等比例\n      if(width>0 && height==0){\n        w = width<this.width?width:this.width;\n        h = width<this.width?Math.round(width/src_size):Math.round(this.width/src_size);\n        width = w;\n        height = h;\n      }else if(width==0 && height>0){\n        w = height<this.height?Math.round(height*src_size):Math.round(this.height*src_size);\n        h = height<this.height?height:this.height;\n        width = w;\n        height = h;\n      }else if(width==0 && height==0){\n        w = this.width;\n        h = this.height;\n        width = w;\n        height = h;\n      }else{\n        // 比例\n        dst_size = width/height;\n        if(src_size > dst_size){\n          if(width<this.width){\n            w = cut?Math.round(height*src_size):width;\n            h = cut?height:Math.round(width/src_size);\n          }else{\n            w = cut?Math.round(this.height*src_size):this.width;\n            h = cut?this.height:Math.round(this.width/src_size);\n          }\n        }else{\n          if(height<this.height){\n            w = cut?width:Math.round(height*src_size);\n            h = cut?Math.round(width/src_size):height;\n          }else{\n            w = cut?this.width:Math.round(this.height*src_size);\n            h = cut?Math.round(this.width/src_size):this.height;\n          }\n        }\n      }\n      // 画板高宽\n      canvas.width = width;\n      canvas.height = height;\n      dst_x = Math.round(width-w)/2;\n      dst_y = Math.round(height-h)/2;\n      context.drawImage(this, dst_x, dst_y, w, h);\n      let data = canvas.toDataURL(mimeType[ext],quality);\n      callback(data);\n    }\n  },\n\n  /* 录像 */\n  video(callback,fail){\n    try{\n      let camera = plus.camera.getCamera();\n      camera.startVideoCapture(function(url) {\n        plus.io.resolveLocalFileSystemURL(url, function (entry) {\n          callback(url,entry);\n        },(e)=>{\n          console.log(\"读取录像失败\");\n        });\n      },fail);\n    }catch(e){console.log('录像');}\n  },\n\n  /* 音频 */\n  audio(r,callback,fail){\n    try{\n      r.record({filename: '_doc/audio/'}, function(url) {\n        plus.io.resolveLocalFileSystemURL(url, function (entry) {\n          callback(url,entry);\n        },function (e) {\n          console.log(\"读取音频失败\");\n        });\n      },fail);\n    }catch(e){console.log('录音');}\n  },\n\n  /* 上传文件 */\n  uploader(url,data,callback,progress){\n    try{\n      let task = plus.uploader.createUpload(url,{method:\"POST\"},callback);\n      for(let i=0; i<data.length; i++){\n        if(data[i].type=='file'){\n          task.addFile(data[i].val,{key:data[i].key});\n        }else if(data[i].type=='data'){\n          task.addData(data[i].key, data[i].val);\n        }\n      }\n      task.addEventListener( \"statechanged\",progress,false);\n      task.start();\n    }catch(e){console.log('上传文件');}\n  },\n\n  /* 系统缓存 */\n  cacheClear(){\n    try{\n      plus.io.resolveLocalFileSystemURL('_doc/', function(entry) {\n        return entry.removeRecursively();\n      },(e)=>{\n        console.log('清理缓存失败');\n      });\n    }catch(e){console.log('清理缓存');}\n  },\n\n}"],"sourceRoot":""}